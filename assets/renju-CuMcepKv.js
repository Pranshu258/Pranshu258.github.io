import{r as A,j as e,_ as at,R as lt,F as ct,a as dt,b as pt}from"./index-DtHvUxE8.js";import{T as ht,S as ut}from"./sharer-QL4RCl9J.js";/* empty css              */const F=40,oe=600,Q=20;function _e(n){const o=n-Q,s=Math.round(o/F),d=Math.max(0,Math.min(14,s));return Q+d*F-F/2}function ft(n,o,s,d){const a=14*F;return n<0||n>a||o<0||o>a?!1:![...s,...d].some(([r,l])=>r===n&&l===o)}const gt="ABCDEFGHIJKLMNO",Ie=({humanMoves:n,computerMoves:o,userColor:s,onMove:d,disabled:c,lastMove:a,candidateMoves:i=[],winningLine:r=null})=>{const l=A.useRef(null);A.useEffect(()=>{const t=l.current;if(!t)return;const b=t.getContext("2d");p(b,n,o,s,a,i,r)},[n,o,s,a,i,r]);const p=(t,b,f,h,k,L,j)=>{t.clearRect(0,0,oe,oe);const m=t.createLinearGradient(0,0,oe,oe);m.addColorStop(0,"#DEB887"),m.addColorStop(.3,"#D4A574"),m.addColorStop(.6,"#C9956C"),m.addColorStop(1,"#D4A574"),t.fillStyle=m,t.fillRect(0,0,oe,oe),t.strokeStyle="rgba(139, 90, 43, 0.15)",t.lineWidth=1;for(let w=0;w<oe;w+=8)t.beginPath(),t.moveTo(0,w+Math.sin(w*.05)*3),t.lineTo(oe,w+Math.sin(w*.05+2)*3),t.stroke();t.strokeStyle="rgba(0, 0, 0, 0.7)",t.lineWidth=1;const S=Q+14*F;for(let w=0;w<15;w++){const T=Q+w*F;t.beginPath(),t.moveTo(T,Q),t.lineTo(T,S),t.stroke(),t.beginPath(),t.moveTo(Q,T),t.lineTo(S,T),t.stroke()}t.fillStyle="rgba(80, 50, 20, 0.55)",t.font="9px sans-serif",t.textAlign="center",t.textBaseline="bottom";for(let w=0;w<15;w++)t.fillText(gt[w],Q+w*F,Q-5);t.textAlign="right",t.textBaseline="middle";for(let w=0;w<15;w++)t.fillText(String(w+1),Q-5,Q+w*F);const _=[[3,3],[3,11],[7,7],[11,3],[11,11]];t.fillStyle="#2a1810",_.forEach(([w,T])=>{const R=Q+w*F,N=Q+T*F;t.beginPath(),t.arc(R,N,4,0,Math.PI*2),t.fill()});const B=F*.4,W=h==="white"?"#FFF":"#000",U=h==="white"?"#000":"#FFF";if(f.forEach(([w,T])=>{u(t,w+F/2,T+F/2,B,U)}),b.forEach(([w,T])=>{u(t,w+F/2,T+F/2,B,W)}),k){const[w,T]=k,R=w+F/2,N=T+F/2,I=b.some(([G,D])=>G===w&&D===T)&&h==="white"||f.some(([G,D])=>G===w&&D===T)&&h==="black";t.save(),t.fillStyle=I?"#e53935":"#ff6b6b",t.beginPath(),t.arc(R,N,B*.25,0,Math.PI*2),t.fill(),t.restore()}if(L&&L.length>0&&L.forEach(({move:w,status:T,score:R})=>{const[N,I]=w,G=N+F/2,D=I+F/2;if(t.save(),T==="evaluating")t.strokeStyle="#ffc107",t.lineWidth=3,t.setLineDash([4,4]),t.beginPath(),t.arc(G,D,B+4,0,Math.PI*2),t.stroke();else if(T==="evaluated"){const me=.3+Math.min(Math.max((R+10)/20,0),1)*.5;t.fillStyle=`rgba(33, 150, 243, ${me})`,t.beginPath(),t.arc(G,D,B*.6,0,Math.PI*2),t.fill(),t.fillStyle="#fff",t.font="bold 10px sans-serif",t.textAlign="center",t.textBaseline="middle",t.fillText(R?.toFixed(0)||"?",G,D)}t.restore()}),j&&j.length>=2){t.save();const w=j[0],T=j[j.length-1],R=w[0]+F/2,N=w[1]+F/2,I=T[0]+F/2,G=T[1]+F/2;t.strokeStyle="#e53935",t.lineWidth=6,t.lineCap="round",t.shadowColor="rgba(0, 0, 0, 0.5)",t.shadowBlur=8,t.shadowOffsetX=2,t.shadowOffsetY=2,t.beginPath(),t.moveTo(R,N),t.lineTo(I,G),t.stroke(),t.restore()}},u=(t,b,f,h,k)=>{if(t.save(),t.fillStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.arc(b+2,f+2,h,0,Math.PI*2),t.fill(),k==="#FFF"){const j=t.createRadialGradient(b-h*.3,f-h*.3,h*.1,b,f,h);j.addColorStop(0,"#FFF"),j.addColorStop(1,"#E0E0E0"),t.fillStyle=j}else{const j=t.createRadialGradient(b-h*.3,f-h*.3,h*.1,b,f,h);j.addColorStop(0,"#444"),j.addColorStop(1,"#000"),t.fillStyle=j}t.beginPath(),t.arc(b,f,h,0,Math.PI*2),t.fill();const L=t.createRadialGradient(b-h*.4,f-h*.4,0,b-h*.4,f-h*.4,h*.5);L.addColorStop(0,k==="#FFF"?"rgba(255, 255, 255, 0.8)":"rgba(255, 255, 255, 0.3)"),L.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=L,t.beginPath(),t.arc(b-h*.3,f-h*.3,h*.5,0,Math.PI*2),t.fill(),t.strokeStyle=k==="#FFF"?"#AAA":"#222",t.lineWidth=1,t.beginPath(),t.arc(b,f,h,0,Math.PI*2),t.stroke(),t.restore()},y=t=>{if(c)return;const b=l.current,f=b.getBoundingClientRect(),h=b.width/f.width,k=b.height/f.height,L=(t.clientX-f.left)*h,j=(t.clientY-f.top)*k;d(L,j)};return e.jsx("canvas",{ref:l,width:oe,height:oe,onClick:y,style:{borderRadius:"8px",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.4), inset 0 0 0 4px rgba(139, 90, 43, 0.5)",cursor:c?"default":"pointer",display:"block",background:"linear-gradient(145deg, #DEB887, #D4A574)",width:"100%",height:"auto",border:"4px solid #8B5A2B"}})},g=40,ae=14*g,xt=10,E={WIN:100,DOUBLE_FOUR:90,FOUR_THREE:85,DOUBLE_THREE:80,BLOCK_FOUR:75,FOUR_OPEN:70,FOUR_HALF:50,BROKEN_FOUR:45,BLOCK_THREE:35,THREE_OPEN:30,THREE_HALF:15,JUMP_THREE:12,TWO_OPEN:5,TWO:3,CENTER_BONUS:2,NONE:0},H=[[1,0],[0,1],[1,1],[1,-1]],mt=[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],je=new Map,bt=1e5;function Ce(n,o){return n<<16|o&65535}function Z(n){const o=new Set;for(let s=0;s<n.length;s++)o.add(Ce(n[s][0],n[s][1]));return o}function v(n,o,s){return n.has(Ce(o,s))}function ue(n,o){return n>=0&&n<=ae&&o>=0&&o<=ae}function yt(n,o,s){for(const[d,c]of H){let a=1;for(let i=1;i<=5&&v(n,o+g*i*d,s+g*i*c);i++)a++;for(let i=1;i<=5&&v(n,o-g*i*d,s-g*i*c);i++)a++;if(a>5)return!0}return!1}function vt(n,o,s,d){let c=0;for(const[a,i]of H){let r=1,l=!1,p=!1;for(let u=1;u<=4;u++){const y=s+g*u*a,t=d+g*u*i;if(v(n,y,t))r++;else{ue(y,t)&&!v(o,y,t)&&(l=!0);break}}for(let u=1;u<=4;u++){const y=s-g*u*a,t=d-g*u*i;if(v(n,y,t))r++;else{ue(y,t)&&!v(o,y,t)&&(p=!0);break}}r===4&&(l||p)&&c++}return c}function jt(n,o,s,d){let c=0;for(const[a,i]of H){let r=1,l=!1,p=!1,u=!1,y=!1;for(let t=1;t<=3;t++){const b=s+g*t*a,f=d+g*t*i;if(v(n,b,f))r++;else{if(ue(b,f)&&!v(o,b,f)){l=!0;const h=s+g*(t+1)*a,k=d+g*(t+1)*i;ue(h,k)&&!v(o,h,k)&&(u=!0)}break}}for(let t=1;t<=3;t++){const b=s-g*t*a,f=d-g*t*i;if(v(n,b,f))r++;else{if(ue(b,f)&&!v(o,b,f)){p=!0;const h=s-g*(t+1)*a,k=d-g*(t+1)*i;ue(h,k)&&!v(o,h,k)&&(y=!0)}break}}r===3&&l&&p&&(u||y)&&c++}return c}function wt(n,o,s,d){const[c,a]=s,i=Z(n),r=Z(o);return yt(i,c,a)?{forbidden:!0,reason:"overline"}:vt(i,r,c,a)>=2?{forbidden:!0,reason:"double-four"}:jt(i,r,c,a)>=2?{forbidden:!0,reason:"double-three"}:{forbidden:!1,reason:null}}function Ne(n,o,s,d){const c=Z(n);for(const[a,i]of H){let r=1;for(let l=1;l<=5&&v(c,o+g*l*a,s+g*l*i);l++)r++;for(let l=1;l<=5&&v(c,o-g*l*a,s-g*l*i);l++)r++;if(r===5)return!0}return!1}function kt(n,o){const s=[...n].sort((c,a)=>c[0]-a[0]||c[1]-a[1]),d=[...o].sort((c,a)=>c[0]-a[0]||c[1]-a[1]);return JSON.stringify([s,d])}function Oe(n,o,s,d,c,a,i=!1){const r=kt(n,o),l=je.get(r);if(l&&l.depth>=d-s)return s===0?l:l.score;const p=Z(n);if(Ke(p,n)||s===d){const f=Xe(n,o);return s===0?{score:f,bestMove:null}:f}let u=null,y=-1e3;const t=s%2===0?i:!i,b=We(n,o,t);for(const f of b){n.push(f);let h=Oe(o,n,s+1,d,-a,-Math.max(c,y),i);if(typeof h=="object"&&(h=h.score),h=-h,n.pop(),h>y&&(y=h,u=f,y>=a))break}return je.size<bt&&je.set(r,{score:y,depth:d-s,bestMove:u}),s===0?{score:y,bestMove:u}:y}async function De(n,o,s,d,c=!1){const a=[];let i=null;async function r(l,p,u,y,t){const b=Z(l);if(Ke(b,l)||u===s)return Xe(l,p);let f=null,h=-1e3;const k=u%2===0?c:!c,L=We(l,p,k);for(const j of L){u===0&&(d(j,"evaluating"),await new Promise(S=>setTimeout(S,150))),l.push(j);let m=await r(p,l,u+1,-t,-Math.max(y,h));if(m=-m,l.pop(),u===0&&(a.push({move:j,score:m}),d(j,"evaluated",m)),m>h&&(h=m,f=j,h>=t))break}return u===0&&(i=f),h}return await r([...n],[...o],0,-1e3,1e3),{candidates:a,bestMove:i}}function Ke(n,o){for(let s=0;s<o.length;s++){const[d,c]=o[s];for(const[a,i]of H){let r=1;for(let l=1;l<=4&&v(n,d+g*l*a,c+g*l*i);l++)r++;for(let l=1;l<=4&&v(n,d-g*l*a,c-g*l*i);l++)r++;if(r>=5)return!0}}return!1}function We(n,o,s=!1){const d=Z([...n,...o]),c=new Set;let a=[];for(const[r,l]of[...n,...o])for(const[p,u]of mt){const y=r+g*p,t=l+g*u,b=Ce(y,t);!d.has(b)&&!c.has(b)&&y>=0&&y<=ae&&t>=0&&t<=ae&&(c.add(b),a.push([y,t]))}if(s){const r=a.filter(l=>!wt(n,o,l).forbidden);r.length>0&&(a=r)}const i=a.map(r=>({move:r,score:St(n,o,r)}));return i.sort((r,l)=>l.score-r.score),i.slice(0,xt).map(r=>r.move)}function St(n,o,s){const[d,c]=s,a=Z(n),i=Z(o);let r=0,l=0,p=0;for(const[b,f]of H){let h=0,k=0,L=0,j=0;for(let m=1;m<=4;m++){const S=d+g*m*b,_=c+g*m*f;if(v(a,S,_))h++;else{if(v(i,S,_))break;if(j===0&&m<=3){const B=d+g*(m+1)*b,W=c+g*(m+1)*f;if(v(a,B,W)){j++;continue}}L++;break}}for(let m=1;m<=4;m++){const S=d-g*m*b,_=c-g*m*f;if(v(a,S,_))h++;else{if(v(i,S,_))break;if(j===0&&m<=3){const B=d-g*(m+1)*b,W=c-g*(m+1)*f;if(v(a,B,W)){j++;continue}}L++;break}}for(let m=1;m<=4;m++){const S=d+g*m*b,_=c+g*m*f;if(v(i,S,_))k++;else break}for(let m=1;m<=4;m++){const S=d-g*m*b,_=c-g*m*f;if(v(i,S,_))k++;else break}h>=4?(r+=E.WIN,p++):h===3&&j===1?r+=E.BROKEN_FOUR:h===3&&L===2?(r+=E.FOUR_OPEN,p++):h===3?r+=E.FOUR_HALF:h===2&&j===1&&L>=1?r+=E.JUMP_THREE:h===2&&L===2?(r+=E.THREE_OPEN,l++):h===2?r+=E.THREE_HALF:h===1&&L===2?r+=E.TWO_OPEN:h===1&&(r+=E.TWO),k>=4?r+=E.BLOCK_FOUR:k===3&&(r+=E.BLOCK_THREE)}p>=2&&(r+=E.DOUBLE_FOUR),p>=1&&l>=1&&(r+=E.FOUR_THREE),l>=2&&(r+=E.DOUBLE_THREE);const u=ae/2,y=ae/2;return Math.abs(d-u)+Math.abs(c-y)<g*3&&(r+=E.CENTER_BONUS),r}function Xe(n,o){if(n.length===0)return 0;const s=n[n.length-1][0],d=n[n.length-1][1],c=Z(n.slice(0,-1)),a=Z(o);if(Ge(c,s,d))return E.WIN;if(Ge(a,s,d))return E.BLOCK_FOUR;const i=Mt(c,a,s,d);if(i.openFours>=2)return E.DOUBLE_FOUR;if(i.openFours>=1&&i.openThrees>=1)return E.FOUR_THREE;if(i.openThrees>=2)return E.DOUBLE_THREE;const r=Rt(c,a,s,d);if(r>0)return r;if(Lt(c,s,d))return E.BROKEN_FOUR;if(He(a,c,s,d)>0)return E.BLOCK_THREE;const l=He(c,a,s,d);if(l>0)return l;if(Tt(c,a,s,d))return E.JUMP_THREE;if(Bt(c,a,s,d))return E.TWO_OPEN;if(It(c,s,d))return E.TWO;const p=ae/2,u=ae/2;return Math.abs(s-p)+Math.abs(d-u)<g*3?E.CENTER_BONUS:E.NONE}function Mt(n,o,s,d){let c=0,a=0;for(const[i,r]of H){let l=0,p=0;for(let u=1;u<=4;u++){const y=s+g*u*i,t=d+g*u*r;if(v(n,y,t))l++;else{v(o,y,t)||p++;break}}for(let u=1;u<=4;u++){const y=s-g*u*i,t=d-g*u*r;if(v(n,y,t))l++;else{v(o,y,t)||p++;break}}l>=3&&p>=1?a++:l===2&&p===2&&c++}return{openThrees:c,openFours:a}}function Lt(n,o,s){for(const[d,c]of H)for(let a=-3;a<=0;a++){let i=0,r=0,l=!1;for(let p=0;p<5;p++){const u=a+p,y=o+g*u*d,t=s+g*u*c;u===0?(l=!0,i++):v(n,y,t)?i++:r++}if(i===4&&r===1&&l)return!0}return!1}function Tt(n,o,s,d){for(const[c,a]of H)for(const i of[1,-1]){const r=s+g*1*i*c,l=d+g*1*i*a,p=s+g*2*i*c,u=d+g*2*i*a,y=s+g*3*i*c,t=d+g*3*i*a;if(!v(n,r,l)&&!v(o,r,l)&&v(n,p,u)&&v(n,y,t))return!0}return!1}function Ge(n,o,s){for(const[d,c]of H){let a=0;for(let i=1;i<=4&&v(n,o+g*i*d,s+g*i*c);i++)a++;for(let i=1;i<=4&&v(n,o-g*i*d,s-g*i*c);i++)a++;if(a>=4)return!0}return!1}function Rt(n,o,s,d){for(const[c,a]of H){let i=0,r=0;for(let l=1;l<=4;l++){const p=s+g*l*c,u=d+g*l*a;if(v(n,p,u))i++;else{v(o,p,u)||r++;break}}for(let l=1;l<=4;l++){const p=s-g*l*c,u=d-g*l*a;if(v(n,p,u))i++;else{v(o,p,u)||r++;break}}if(i>=3)return r===2?E.FOUR_OPEN:r===1?E.FOUR_HALF:0}return 0}function He(n,o,s,d){for(const[c,a]of H){let i=0,r=0;for(let l=1;l<=3;l++){const p=s+g*l*c,u=d+g*l*a;if(v(n,p,u))i++;else{v(o,p,u)||r++;break}}for(let l=1;l<=3;l++){const p=s-g*l*c,u=d-g*l*a;if(v(n,p,u))i++;else{v(o,p,u)||r++;break}}if(i>=2)return r===2?E.THREE_OPEN:r===1?E.THREE_HALF:0}return 0}function It(n,o,s){for(const[d,c]of H)if(v(n,o+g*d,s+g*c)||v(n,o-g*d,s-g*c))return!0;return!1}function Bt(n,o,s,d){for(const[c,a]of H){let i=0,r=0;const l=s+g*c,p=d+g*a;if(v(n,l,p)){i++;const t=s+g*2*c,b=d+g*2*a;!v(n,t,b)&&!v(o,t,b)&&r++}const u=s-g*c,y=d-g*a;if(v(n,u,y)){i++;const t=s-g*2*c,b=d-g*2*a;!v(n,t,b)&&!v(o,t,b)&&r++}if(i>=1&&r===2)return!0}return!1}function Be(n,o,s){const d=Z(n);for(const[c,a]of H){let i=1;for(let r=1;r<=4&&v(d,o+g*r*c,s+g*r*a);r++)i++;for(let r=1;r<=4&&v(d,o-g*r*c,s-g*r*a);r++)i++;if(i>=5)return!0}return!1}function ye(n,o,s){const d=Z(n);for(const[c,a]of H){const i=[[o,s]];for(let r=1;r<=4;r++){const l=o+g*r*c,p=s+g*r*a;if(v(d,l,p))i.push([l,p]);else break}for(let r=1;r<=4;r++){const l=o-g*r*c,p=s-g*r*a;if(v(d,l,p))i.unshift([l,p]);else break}if(i.length>=5)return i.slice(0,5)}return null}function Ue(){je.clear()}let Ae=null;async function At(){return Ae||(Ae=await at(()=>import("./index-DFLBea7M.js"),[])),Ae}const C=40,Je="ABCDEFGHIJKLMNO";function K(n,o){const s=n/C,d=o/C;return`${Je[s]}${d+1}`}function Ee(n){const o=n.trim().match(/^([A-Oa-o])(\d{1,2})$/);if(!o)return null;const s=Je.indexOf(o[1].toUpperCase()),d=parseInt(o[2],10)-1;return s<0||s>14||d<0||d>14?null:[s*C,d*C]}function Et(n,o){const s=new Set,d=new Set,c=new Set;for(const[b,f]of n){const h=`${b/C},${f/C}`;s.add("B:"+h),c.add(h)}for(const[b,f]of o){const h=`${b/C},${f/C}`;d.add("W:"+h),c.add(h)}const a=[],i=n.map(([b,f])=>K(b,f)),r=o.map(([b,f])=>K(b,f));a.push(`Black (X) stones: ${i.length?i.join(", "):"none"}`),a.push(`White (O) stones: ${r.length?r.join(", "):"none"}`),a.push(`Empty intersections: ${225-n.length-o.length}`);const l=[{dc:1,dr:0,name:"horizontal"},{dc:0,dr:1,name:"vertical"},{dc:1,dr:1,name:"diagonal (â†˜)"},{dc:1,dr:-1,name:"diagonal (â†—)"}];function p(b,f){if(b.length<2)return[];const h=new Set(b.map(([j,m])=>`${j/C},${m/C}`)),k=[],L=new Set;for(const[j,m]of b){const S=j/C,_=m/C;for(const{dc:B,dr:W,name:U}of l){let w=S,T=_;for(;h.has(`${w-B},${T-W}`);)w-=B,T-=W;const R=[];let N=w,I=T;for(;h.has(`${N},${I}`);)R.push(K(N*C,I*C)),N+=B,I+=W;if(R.length<2)continue;const G=R.join("-");if(L.has(G))continue;L.add(G);const D=w-B>=0&&w-B<=14&&T-W>=0&&T-W<=14&&!c.has(`${w-B},${T-W}`),ge=N>=0&&N<=14&&I>=0&&I<=14&&!c.has(`${N},${I}`),me=D&&ge?"both ends open":D||ge?"one end open":"blocked";k.push(`${f} ${U} ${R.length}-in-a-row: ${R.join("-")} (${me})`)}}return k}const u=p(n,"Black"),y=p(o,"White"),t=[...u,...y];return t.length>0&&a.push(`
Lines on the board:
`+t.join(`
`)),a.join(`
`)}function Ot(n,o){const s=[],d=Math.max(n.length,o.length);for(let c=0;c<d;c++)c<n.length&&s.push(`${s.length+1}. ${K(...n[c])} (Black)`),c<o.length&&s.push(`${s.length+1}. ${K(...o[c])} (White)`);return s.join(`
`)}function Ye(n,o,s){const d=[[1,0],[0,1],[1,1],[1,-1]],c=new Set,a=new Set;for(const[l,p]of n)c.add(`${l/C},${p/C}`);for(const[l,p]of o);for(const[l,p]of s)a.add(`${l/C},${p/C}`);const i=[],r=new Set;for(let l=0;l<15;l++)for(let p=0;p<15;p++)for(const[u,y]of d){const t=p+4*u,b=l+4*y;if(t<0||t>14||b<0||b>14)continue;const f=[],h=[];let k=!1;for(let T=0;T<5;T++){const R=p+T*u,N=l+T*y,I=`${R},${N}`;if(c.has(I))f.push([R,N]);else if(!a.has(I))h.push([R,N]);else{k=!0;break}}if(k||f.length<3)continue;const L=f.map(([T,R])=>`${T},${R}`).sort().join("|")+`|${u},${y}`;if(r.has(L))continue;r.add(L);const j=[],m=f[0],S=f[f.length-1],_=m[0]-u,B=m[1]-y;_>=0&&_<=14&&B>=0&&B<=14&&!a.has(`${_},${B}`)&&j.push(K(_*C,B*C));const W=S[0]+u,U=S[1]+y;W>=0&&W<=14&&U>=0&&U<=14&&!a.has(`${W},${U}`)&&j.push(K(W*C,U*C));const w=j.length;i.push({count:f.length,openEnds:w,broken:h.length>0&&f.length>=3,blockingMoves:j,stones:f.map(([T,R])=>K(T*C,R*C))})}return i.sort((l,p)=>p.count-l.count||p.openEnds-l.openEnds||(l.broken?1:0)-(p.broken?1:0)),i}function Qe(n,o,s,d=!0){const c=Et(n,o),a=Ot(n,o);n.length+o.length;let i="",r="";if(d){const y=[...n,...o];new Set(y.map(([m,S])=>`${m/C},${S/C}`));const t=Ye(o,n,y),b=Ye(n,o,y),f=b.filter(m=>m.count>=4&&m.blockingMoves.length>0);f.length>0&&(i=`YOU CAN WIN NOW! Play ${f[0].blockingMoves[0]} to complete 5 in a row.`);const h=t.filter(m=>m.count>=4&&m.blockingMoves.length>0);if(!i&&h.length>0){const m=h[0].blockingMoves;i=`URGENT: White has ${h[0].count} in a row at ${h[0].stones.join(",")}. You MUST block at ${m.join(" or ")} or you lose.`}const k=t.filter(m=>m.count===3&&m.openEnds===2&&m.blockingMoves.length>0);if(!i&&k.length>0){const m=k[0];i=`White has an open three at ${m.stones.join(",")}. Block at ${m.blockingMoves.join(" or ")} â€” otherwise White gets an unstoppable four.`}const L=[],j=b.filter(m=>m.count===3&&m.openEnds>=2&&m.blockingMoves.length>0);if(j.length>0){const m=j[0];L.push(`You have an open three at ${m.stones.join(",")}. Extend it by playing ${m.blockingMoves.join(" or ")}.`)}if(!i){const m=t.filter(S=>S.count===3&&S.openEnds===1&&S.blockingMoves.length>0);if(m.length>0){const S=m[0];L.push(`White has a three at ${S.stones.join(",")} (one end open). Consider blocking at ${S.blockingMoves[0]}.`)}}L.length>0&&(r=L.join(`
`))}const l=`You play Black (X) in Renju on a 15Ã—15 board. Columns A-O, rows 1-15.
White (O) is your opponent. Get exactly 5 in a row to win.

Geometry reminders:
- Same row = horizontal (e.g. G7,H7,I7 are horizontal neighbors)
- Same column = vertical (e.g. H6,H7,H8 are vertical neighbors)
- Diagonal: column and row both change by 1

Rules:
- You MUST play on an EMPTY intersection â€” never on an occupied square
- Block White's 4-in-a-row immediately or you lose
- Block White's open 3-in-a-row or it becomes unstoppable
- Build your own lines toward 5

Respond with ONLY a coordinate like H8. Nothing else.`;let p=[];p.push(c),p.push(`Move history:
${a||"none"}`),i&&p.push(i),r&&p.push(r),p.push("Your move:");const u=p.join(`

`);return{system:l,user:u}}function Ze(n){const o=n.trim(),s=Ee(o);if(s)return s;const d=/\b([A-Oa-o])(1[0-5]|[1-9])\b/g;let c,a=null;for(;(c=d.exec(n))!==null;){const r=Ee(c[0]);r&&(a=r)}const i=o.split(`
`).filter(r=>r.trim());if(i.length>0){const r=i[i.length-1].trim(),l=Ee(r);if(l)return l}return a}const xe=[{id:"Llama-3.2-1B-Instruct-q4f16_1-MLC",label:"Llama 3.2 1B",size:"~0.7 GB"},{id:"Qwen2.5-1.5B-Instruct-q4f16_1-MLC",label:"Qwen2.5 1.5B",size:"~1 GB"},{id:"SmolLM2-1.7B-Instruct-q4f16_1-MLC",label:"SmolLM2 1.7B",size:"~1 GB"},{id:"Qwen3-1.7B-q4f16_1-MLC",label:"Qwen3 1.7B",size:"~1.2 GB"},{id:"gemma-2-2b-it-q4f16_1-MLC",label:"Gemma 2 2B",size:"~1.5 GB"},{id:"Llama-3.2-3B-Instruct-q4f16_1-MLC",label:"Llama 3.2 3B",size:"~2 GB"},{id:"Qwen3-4B-q4f16_1-MLC",label:"Qwen3 4B",size:"~2.5 GB"},{id:"Phi-3.5-mini-instruct-q4f16_1-MLC",label:"Phi-3.5 Mini 3.8B",size:"~2.5 GB"},{id:"gemma-2-9b-it-q4f16_1-MLC",label:"Gemma 2 9B",size:"~6 GB"}];let re=null,fe=null;async function Ct(n,o){if(re&&fe===n)return!0;re&&(re=null,fe=null);try{return re=await(await At()).CreateMLCEngine(n,{initProgressCallback:d=>{o&&o({text:d.text,progress:d.progress})}}),fe=n,!0}catch(s){throw console.error("[WebLLM] Failed to load model:",s),re=null,fe=null,s}}async function Wt(n,o,s,d,c=3,a=!0){if(!re)return{move:null,raw:"",error:"WebLLM model not loaded"};const{system:i,user:r}=Qe(n,o,s,a);console.log(`[WebLLM] User prompt:
${r}`);const p=fe?.startsWith("Qwen3")?`${r}

/no_think`:r,u=[{role:"system",content:i},{role:"user",content:p}];for(let y=0;y<c;y++)try{const b=(await re.chat.completions.create({messages:u,max_tokens:16,temperature:.2})).choices?.[0]?.message?.content??"";console.log(`[WebLLM] Response (attempt ${y+1}):`,b);const f=Ze(b);if(!f){console.warn(`[WebLLM] Attempt ${y+1}: Could not parse move from "${b}"`),u.push({role:"assistant",content:b}),u.push({role:"user",content:"Invalid. Reply with ONLY a coordinate like H8. Nothing else."});continue}if(d.some(([k,L])=>k===f[0]&&L===f[1])){const k=K(f[0],f[1]);console.warn(`[WebLLM] Attempt ${y+1}: Move ${k} is already occupied`),u.push({role:"assistant",content:b}),u.push({role:"user",content:`${k} is occupied. Pick a DIFFERENT empty square. Reply with ONLY the coordinate.`});continue}return{move:f,raw:b}}catch(t){if(console.error(`[WebLLM] Attempt ${y+1} error:`,t),y===c-1)return{move:null,raw:"",error:t.message}}return{move:null,raw:"",error:"Failed to get a valid move after retries"}}function qe(){return re!==null}function Pt(){return fe}async function Ft(n,o,s,d,c,a=3,i=!0){const{endpoint:r,model:l,apiKey:p}=n,u=r.replace(/\/+$/,""),{system:y,user:t}=Qe(o,s,d,i);console.log(`[API] User prompt:
${t}`);const b={"Content-Type":"application/json"};p&&(b["api-key"]=p);const f=[{role:"system",content:y},{role:"user",content:t}];for(let h=0;h<a;h++)try{const k={messages:f,max_tokens:32};l&&(k.model=l);const L=await fetch(u,{method:"POST",headers:b,body:JSON.stringify(k)});if(!L.ok){const B=await L.text();throw console.error(`[API] Error ${L.status}:`,B),new Error(`API call failed (${L.status})`)}const m=(await L.json()).choices?.[0]?.message?.content??"";console.log(`[API] Response (attempt ${h+1}):`,m);const S=Ze(m);if(!S){console.warn(`[API] Attempt ${h+1}: Could not parse move from "${m}"`),f.push({role:"assistant",content:m}),f.push({role:"user",content:"Invalid. Reply with ONLY a coordinate like H8 (column A-O, row 1-15). Nothing else."});continue}if(c.some(([B,W])=>B===S[0]&&W===S[1])){const B=K(S[0],S[1]);console.warn(`[API] Attempt ${h+1}: Move ${B} is already occupied`),f.push({role:"assistant",content:m}),f.push({role:"user",content:`${B} is occupied. Occupied: ${c.map(([W,U])=>K(W,U)).join(", ")}. Pick a DIFFERENT empty square.`});continue}return{move:S,raw:m}}catch(k){if(console.error(`[API] Attempt ${h+1} error:`,k),h===a-1)return{move:null,raw:"",error:k.message}}return{move:null,raw:"",error:"Failed to get a valid move after retries"}}const zt=()=>new(window.AudioContext||window.webkitAudioContext),ve=n=>{if(!n)return;const o=n.createOscillator(),s=n.createGain();o.connect(s),s.connect(n.destination),o.frequency.value=800,o.type="sine",s.gain.setValueAtTime(.15,n.currentTime),s.gain.exponentialRampToValueAtTime(.001,n.currentTime+.1),o.start(n.currentTime),o.stop(n.currentTime+.1)},$t=n=>{if(!n)return;[523,659,784,1047].forEach((s,d)=>{const c=n.createOscillator(),a=n.createGain();c.connect(a),a.connect(n.destination),c.frequency.value=s,c.type="sine";const i=n.currentTime+d*.12;a.gain.setValueAtTime(.2,i),a.gain.exponentialRampToValueAtTime(.001,i+.3),c.start(i),c.stop(i+.3)})},_t=n=>{if(!n)return;[392,330,262].forEach((s,d)=>{const c=n.createOscillator(),a=n.createGain();c.connect(a),a.connect(n.destination),c.frequency.value=s,c.type="sine";const i=n.currentTime+d*.2;a.gain.setValueAtTime(.2,i),a.gain.exponentialRampToValueAtTime(.001,i+.4),c.start(i),c.stop(i+.4)})},he={easy:{depth:1,mistakeRate:.4,label:"Easy",emoji:"ðŸŒ±"},medium:{depth:2,mistakeRate:.15,label:"Medium",emoji:"âš”ï¸"},hard:{depth:4,mistakeRate:0,label:"Hard",emoji:"ðŸ”¥"},adaptive:{depth:1,mistakeRate:0,label:"Adaptive",emoji:"ðŸ§ ",adaptive:!0}};function Ve({mode:n="pvai"}){const[o,s]=A.useState("setup"),[d,c]=A.useState("black"),[a,i]=A.useState([]),[r,l]=A.useState([]),[p,u]=A.useState("human"),[y,t]=A.useState(0),[b,f]=A.useState(null),[h,k]=A.useState(!1),[L,j]=A.useState([]),[m,S]=A.useState(null),[_,B]=A.useState(null),[W,U]=A.useState(1),[w,T]=A.useState(1),[R,N]=A.useState(!0),[I,G]=A.useState(n),[D,ge]=A.useState({endpoint:"http://localhost:12434/engines/llama.cpp/v1/chat/completions",model:"ai/mistral",apiKey:""}),[me,we]=A.useState([]),[be,le]=A.useState(null),[ke,de]=A.useState(!1),[ee,et]=A.useState("easy"),[q,Pe]=A.useState("webllm"),[ie,tt]=A.useState(xe[0].id),[pe,Se]=A.useState(!1),[Fe,ze]=A.useState({text:"",progress:0}),te=A.useRef(!1),se=A.useRef(null),$e=A.useCallback(()=>(se.current||(se.current=zt()),se.current),[]),nt=()=>{const x=he[ee];return x&&!x.adaptive?x.depth:Math.floor(Math.random()*W)+1};A.useEffect(()=>{o==="won"?(I==="aivsllm"?T(x=>Math.max(x-1,1)):ee==="adaptive"&&Math.random()<.5&&U(x=>Math.min(x+1,10)),R&&$t(se.current)):o==="lost"&&(I==="aivsllm"?T(x=>Math.min(x+1,10)):ee==="adaptive"&&U(x=>Math.max(x-1,1)),R&&_t(se.current))},[o,R,I,ee]);const Me=x=>{$e();const X=he[ee];X&&!X.adaptive?U(X.depth):U(1),c(x),s("playing"),i([]),l([]),t(1),f(null),S(null),B(null),Ue();const M=280;x==="black"?(i([[M,M]]),f([M,M]),u("computer")):(l([[M,M]]),f([M,M]),u("human"))},ot=A.useCallback((x,X)=>{if(o!=="playing"||p!=="human")return;const M=_e(x),z=_e(X);if(!ft(M,z,a,r))return;const P=[...a,[M,z]];if(i(P),f([M,z]),R&&ve(se.current),Be(P,M,z)){S(ye(P,M,z)),s("won");return}t(y+1),u("computer")},[o,p,a,r,y]);A.useEffect(()=>{if(I!=="aivsllm"&&o==="playing"&&p==="computer"){let x=!1;return(async()=>{if(await new Promise(P=>setTimeout(P,300)),x)return;const M=[...r],z=nt();if(B(z),h){j([]);const V=await De(M,a,z,($,O,J)=>{x||j(Y=>Y.find(ne=>ne.move[0]===$[0]&&ne.move[1]===$[1])?Y.map(ne=>ne.move[0]===$[0]&&ne.move[1]===$[1]?{...ne,status:O,score:J}:ne):[...Y,{move:$,status:O,score:J}])},d==="white");if(V.bestMove&&M.push(V.bestMove),await new Promise($=>setTimeout($,300)),x)return;j([])}else{const P=d==="white";let $=Oe(M,a,0,z,-1e3,1e3,P).bestMove;const O=he[ee];if(O&&O.mistakeRate&&$&&Math.random()<O.mistakeRate){const J=We(M,a,P);if(J.length>2){const Y=J.slice(Math.floor(J.length/2));$=Y[Math.floor(Math.random()*Y.length)]}}$&&M.push($)}if(!x&&M.length>r.length){const P=M[M.length-1];if(l(M),f(P),R&&ve(se.current),d==="white"?Ne(M,P[0],P[1]):Be(M,P[0],P[1])){S(ye(M,P[0],P[1])),s("lost");return}t(y+1),u("human")}})(),()=>{x=!0}}},[p,o,I,r,a,y,h]);const st=()=>{I==="aivsllm"?Le():Me(d)},Le=()=>{$e(),te.current=!1,G("aivsllm"),s("playing");const x=280;i([[x,x]]),l([]),t(2),f([x,x]),S(null),B(null),we([{turn:1,player:"LLM (Black)",notation:"H8",raw:"auto: center opening"}]),le(null),de(!0),Ue(),u("computer")};A.useEffect(()=>{if(I!=="aivsllm"||o!=="playing"||!ke)return;let x=!1;return te.current=!1,(async()=>{let M=[...a],z=[...r],P=p,V=y;for(;;){if(x||te.current||(await new Promise($=>setTimeout($,600)),x||te.current))return;if(P==="human"){u("human");const $=[...M,...z],O=q==="webllm"?await Wt(M,z,"black",$,3,!0):await Ft(D,M,z,"black",$,3,!0);if(x||te.current)return;if(!O.move){le(O.error||"LLM failed to produce a valid move"),de(!1);return}if(M=[...M,O.move],i([...M]),f(O.move),R&&ve(se.current),we(J=>[...J,{turn:V,player:"LLM (Black)",notation:K(...O.move),raw:O.raw}]),Ne(M,O.move[0],O.move[1])){S(ye(M,O.move[0],O.move[1])),s("lost"),de(!1);return}V++,t(V),P="computer"}else{u("computer");const $=Math.floor(Math.random()*w)+1;B($);let O=null;if(h){if(j([]),O=(await De([...z],[...M],$,(Y,Te,ne)=>{x||te.current||j(Re=>Re.find(ce=>ce.move[0]===Y[0]&&ce.move[1]===Y[1])?Re.map(ce=>ce.move[0]===Y[0]&&ce.move[1]===Y[1]?{...ce,status:Te,score:ne}:ce):[...Re,{move:Y,status:Te,score:ne}])},!1)).bestMove,await new Promise(Y=>setTimeout(Y,300)),x||te.current)return;j([])}else O=Oe([...z],[...M],0,$,-1e3,1e3,!1).bestMove;if(x||te.current)return;if(!O){le("Local AI failed to find a move"),de(!1);return}if(z=[...z,O],l([...z]),f(O),R&&ve(se.current),we(J=>[...J,{turn:V,player:"AI (White)",notation:K(...O)}]),Be(z,O[0],O[1])){S(ye(z,O[0],O[1])),s("won"),de(!1);return}V++,t(V),P="human"}}})(),()=>{x=!0,te.current=!0}},[ke]);const it=()=>{te.current=!0,de(!1),s("setup")};if(o==="setup")return n==="pvai"?e.jsx("div",{style:{padding:"20px 0",margin:"20px 0",position:"relative"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"25px"},children:[e.jsxs("div",{style:{position:"relative",width:"600px",flexShrink:0},children:[e.jsx(Ie,{humanMoves:[],computerMoves:[],userColor:"black",onMove:()=>{},disabled:!0,lastMove:null,candidateMoves:[]}),e.jsxs("div",{style:{position:"absolute",top:"50%",left:0,right:0,transform:"translateY(-50%)",background:"rgba(0, 0, 0, 0.85)",padding:"36px 20px",color:"#fff",display:"flex",flexDirection:"column",alignItems:"center",backdropFilter:"blur(12px)",borderTop:"1px solid rgba(255, 255, 255, 0.08)",borderBottom:"1px solid rgba(255, 255, 255, 0.08)",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.5)"},children:[e.jsx("div",{style:{fontSize:"2.2em",fontWeight:"600",letterSpacing:"8px",textTransform:"uppercase",marginBottom:"8px",background:"linear-gradient(135deg, #fff 0%, #94a3b8 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Renju"}),e.jsx("div",{style:{fontSize:"0.85em",color:"#94a3b8",marginBottom:"16px",fontWeight:"500"},children:"Five in a row wins"}),e.jsx("div",{style:{display:"flex",gap:"6px",justifyContent:"center",marginBottom:"14px"},children:Object.entries(he).map(([x,X])=>e.jsxs("button",{onClick:()=>et(x),style:{padding:"5px 12px",background:ee===x?"rgba(99, 102, 241, 0.85)":"rgba(255, 255, 255, 0.08)",border:ee===x?"1px solid rgba(99, 102, 241, 0.9)":"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"20px",color:"#fff",cursor:"pointer",fontSize:"0.75em",fontWeight:ee===x?"600":"400",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx("span",{children:X.emoji}),e.jsx("span",{children:X.label})]},x))}),e.jsxs("div",{style:{fontSize:"0.8em",color:"#fff",marginBottom:"20px",fontWeight:"500",padding:"8px 16px",background:"linear-gradient(135deg, #6366f1, #4f46e5)",borderRadius:"6px",boxShadow:"0 4px 15px rgba(99, 102, 241, 0.4)",letterSpacing:"0.3px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[e.jsx("span",{children:"ðŸ‘‡"}),e.jsx("span",{children:"Choose your side to begin"})]}),e.jsxs("div",{style:{display:"flex",gap:"16px",justifyContent:"center",flexWrap:"wrap"},children:[e.jsxs("button",{onClick:()=>{G("pvai"),Me("black")},style:{padding:"20px 32px",background:"#1a1a1a",border:"none",borderRadius:"16px",color:"#fff",cursor:"pointer",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",display:"flex",alignItems:"center",gap:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.05)",minWidth:"160px"},onMouseOver:x=>{x.currentTarget.style.transform="translateY(-3px)",x.currentTarget.style.boxShadow="0 8px 30px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.1)"},onMouseOut:x=>{x.currentTarget.style.transform="translateY(0)",x.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.05)"},children:[e.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"radial-gradient(circle at 30% 30%, #4a4a4a, #000)",boxShadow:"0 2px 8px rgba(0,0,0,0.5), inset 0 -2px 4px rgba(0,0,0,0.3)"}}),e.jsxs("div",{style:{textAlign:"left"},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"1em"},children:"Black"}),e.jsx("div",{style:{opacity:.5,fontSize:"0.75em"},children:"You play first"})]})]}),e.jsxs("button",{onClick:()=>{G("pvai"),Me("white")},style:{padding:"20px 32px",background:"#f5f5f5",border:"none",borderRadius:"16px",color:"#1a1a1a",cursor:"pointer",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",display:"flex",alignItems:"center",gap:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.8)",minWidth:"160px"},onMouseOver:x=>{x.currentTarget.style.transform="translateY(-3px)",x.currentTarget.style.boxShadow="0 8px 30px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.9)"},onMouseOut:x=>{x.currentTarget.style.transform="translateY(0)",x.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.8)"},children:[e.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"radial-gradient(circle at 30% 30%, #fff, #d4d4d4)",boxShadow:"0 2px 8px rgba(0,0,0,0.2), inset 0 -2px 4px rgba(0,0,0,0.05)"}}),e.jsxs("div",{style:{textAlign:"left"},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"1em"},children:"White"}),e.jsx("div",{style:{opacity:.5,fontSize:"0.75em"},children:"AI plays first"})]})]})]})]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"12px",width:"220px",flexShrink:0,alignSelf:"stretch"},children:e.jsxs("div",{style:{color:"var(--surface-text-color)",padding:"18px",background:"var(--blog-surface-background)",borderRadius:"12px",border:"1px solid var(--blog-surface-border, #333)"},children:[e.jsxs("div",{style:{fontWeight:"600",fontSize:"1em",marginBottom:"14px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{children:"ðŸ“–"})," How to Play"]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",fontSize:"0.8em",opacity:.8},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{opacity:.7},children:"âš«"}),e.jsx("span",{children:"Black moves first"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{opacity:.7},children:"ðŸŽ¯"}),e.jsx("span",{children:"Get 5 in a row to win"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{opacity:.7},children:"ðŸ¤–"}),e.jsx("span",{children:"AI adapts to your skill"})]})]})]})})]})}):e.jsx("div",{style:{padding:"20px 0",margin:"20px 0",position:"relative"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"25px"},children:[e.jsxs("div",{style:{position:"relative",width:"600px",flexShrink:0},children:[e.jsx(Ie,{humanMoves:[],computerMoves:[],userColor:"black",onMove:()=>{},disabled:!0,lastMove:null,candidateMoves:[]}),e.jsxs("div",{style:{position:"absolute",top:"50%",left:0,right:0,transform:"translateY(-50%)",background:"rgba(0, 0, 0, 0.85)",padding:"36px 20px",color:"#fff",display:"flex",flexDirection:"column",alignItems:"center",backdropFilter:"blur(12px)",borderTop:"1px solid rgba(255, 255, 255, 0.08)",borderBottom:"1px solid rgba(255, 255, 255, 0.08)",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.5)"},children:[e.jsx("div",{style:{fontSize:"2.2em",fontWeight:"600",letterSpacing:"8px",textTransform:"uppercase",marginBottom:"8px",background:"linear-gradient(135deg, #fff 0%, #94a3b8 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"AI vs LLM"}),e.jsx("div",{style:{fontSize:"0.85em",color:"#94a3b8",marginBottom:"20px",fontWeight:"500"},children:"Watch the minimax AI battle a language model"}),e.jsxs("div",{style:{display:"flex",gap:"6px",marginBottom:"14px"},children:[e.jsxs("button",{onClick:()=>Pe("webllm"),style:{padding:"5px 14px",background:q==="webllm"?"rgba(99, 102, 241, 0.85)":"rgba(255, 255, 255, 0.08)",border:q==="webllm"?"1px solid rgba(99, 102, 241, 0.9)":"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"20px",color:"#fff",cursor:"pointer",fontSize:"0.78em",fontWeight:q==="webllm"?"600":"400",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"5px"},children:[e.jsx("span",{children:"ðŸ’»"})," On-Device"]}),e.jsxs("button",{onClick:()=>Pe("api"),style:{padding:"5px 14px",background:q==="api"?"rgba(99, 102, 241, 0.85)":"rgba(255, 255, 255, 0.08)",border:q==="api"?"1px solid rgba(99, 102, 241, 0.9)":"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"20px",color:"#fff",cursor:"pointer",fontSize:"0.78em",fontWeight:q==="api"?"600":"400",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"5px"},children:[e.jsx("span",{children:"ðŸ”Œ"})," API"]})]}),e.jsxs("div",{style:{fontSize:"0.8em",color:"#fff",marginBottom:"10px",fontWeight:"500",padding:"8px 16px",background:"linear-gradient(135deg, #6366f1, #4f46e5)",borderRadius:"6px",boxShadow:"0 4px 15px rgba(99, 102, 241, 0.4)",letterSpacing:"0.3px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[e.jsx("span",{children:q==="webllm"?"ðŸ’»":"ðŸ”Œ"}),e.jsx("span",{children:q==="webllm"?"Select a model and load it":"Provide an endpoint to begin"})]})]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"12px",width:"220px",flexShrink:0,alignSelf:"stretch"},children:e.jsxs("div",{style:{color:"var(--surface-text-color)",padding:"18px",background:"var(--blog-surface-background)",borderRadius:"12px",border:"1px solid var(--blog-surface-border, #333)"},children:[q==="webllm"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{fontWeight:"600",fontSize:"0.95em",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{children:"ðŸ’»"})," On-Device Model"]}),e.jsx("div",{style:{fontSize:"0.75em",opacity:.6,marginBottom:"10px"},children:"Runs in your browser via WebGPU"}),e.jsxs("div",{style:{marginBottom:"10px"},children:[e.jsx("div",{style:{fontSize:"0.75em",opacity:.7,marginBottom:"3px"},children:"Model"}),e.jsx("select",{value:ie,onChange:x=>tt(x.target.value),style:{width:"100%",padding:"6px 8px",fontSize:"0.8em",borderRadius:"6px",border:"1px solid var(--blog-surface-border, #444)",background:"var(--blog-surface-background, #1a1a1a)",color:"var(--surface-text-color)",boxSizing:"border-box",outline:"none",cursor:"pointer"},children:xe.map(x=>e.jsxs("option",{value:x.id,children:[x.label," (",x.size,")"]},x.id))})]}),pe?e.jsxs("div",{style:{marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"0.72em",opacity:.8,marginBottom:"6px",wordBreak:"break-word",lineHeight:"1.4"},children:Fe.text||"Initializing..."}),e.jsx("div",{style:{width:"100%",height:"6px",background:"var(--blog-surface-border, #333)",borderRadius:"3px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${Math.round(Fe.progress*100)}%`,height:"100%",background:"linear-gradient(135deg, #6366f1, #4f46e5)",borderRadius:"3px",transition:"width 0.3s"}})})]}):qe()?e.jsxs("div",{style:{fontSize:"0.75em",color:"#22c55e",marginBottom:"8px",display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx("span",{children:"âœ“"})," Model ready"]}):null,e.jsxs("button",{disabled:pe,onClick:async()=>{Se(!0),ze({text:"",progress:0}),le(null);try{await Ct(ie,x=>ze(x)),Se(!1),Le()}catch(x){Se(!1),le("Failed to load model: "+x.message)}},style:{marginTop:"6px",padding:"10px 14px",background:pe?"#555":"linear-gradient(135deg, #6366f1, #4f46e5)",border:"none",borderRadius:"10px",color:"#fff",cursor:pe?"not-allowed":"pointer",fontSize:"0.85em",fontWeight:"600",transition:"all 0.2s",boxShadow:pe?"none":"0 4px 14px rgba(99, 102, 241, 0.35)",width:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",minHeight:"40px"},children:[e.jsx("span",{children:"ðŸ¤–"}),e.jsx("span",{children:pe?"Loading...":qe()&&Pt()===ie?"Start AI vs LLM":"Load Model & Start"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{fontWeight:"600",fontSize:"0.95em",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{children:"ðŸ”Œ"})," API Endpoint"]}),e.jsx("div",{style:{fontSize:"0.75em",opacity:.6,marginBottom:"10px"},children:"Any OpenAI-compatible endpoint (Docker Model Runner, Ollama, Azure, etc.)"}),[{key:"endpoint",label:"Endpoint",placeholder:"http://localhost:12434/engines/llama.cpp/v1/chat/completions"},{key:"model",label:"Model (optional)",placeholder:"ai/mistral"},{key:"apiKey",label:"API Key (optional)",placeholder:"your-api-key",type:"password"}].map(({key:x,label:X,placeholder:M,type:z})=>e.jsxs("div",{style:{marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"0.75em",opacity:.7,marginBottom:"3px"},children:X}),e.jsx("input",{type:z||"text",value:D[x],onChange:P=>ge(V=>({...V,[x]:P.target.value})),placeholder:M,style:{width:"100%",padding:"6px 8px",fontSize:"0.8em",borderRadius:"6px",border:"1px solid var(--blog-surface-border, #444)",background:"var(--blog-surface-background, #1a1a1a)",color:"var(--surface-text-color)",boxSizing:"border-box",outline:"none"}})]},x)),e.jsxs("button",{onClick:()=>{if(!D.endpoint){le("Enter an endpoint URL above");return}le(null),Le()},style:{marginTop:"6px",padding:"10px 14px",background:"linear-gradient(135deg, #6366f1, #4f46e5)",border:"none",borderRadius:"10px",color:"#fff",cursor:"pointer",fontSize:"0.85em",fontWeight:"600",transition:"all 0.2s",boxShadow:"0 4px 14px rgba(99, 102, 241, 0.35)",width:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",minHeight:"40px"},children:[e.jsx("span",{children:"ðŸ¤–"}),e.jsx("span",{children:"Start AI vs LLM"})]})]}),be&&!ke&&o==="setup"&&e.jsx("div",{style:{marginTop:"8px",color:"#f87171",fontSize:"0.75em"},children:be})]})})]})});const rt=o==="won"||o==="lost";return e.jsx("div",{style:{padding:"20px 0",margin:"20px 0",position:"relative"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"25px"},children:[e.jsx("div",{style:{position:"relative",width:"600px",flexShrink:0},children:e.jsx(Ie,{humanMoves:a,computerMoves:r,userColor:I==="aivsllm"?"black":d,onMove:ot,disabled:I==="aivsllm"||o!=="playing"||p!=="human",lastMove:b,candidateMoves:L,winningLine:m})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px",width:"180px",flexShrink:0,alignSelf:"stretch"},children:[e.jsx("div",{style:{color:"var(--surface-text-color)",padding:"15px",background:"var(--blog-surface-background)",borderRadius:"10px",border:"1px solid var(--blog-surface-border, #333)"},children:I==="aivsllm"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9em",marginBottom:"8px"},children:[e.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",flexShrink:0,background:"radial-gradient(circle at 30% 30%, #fff, #d4d4d4)",boxShadow:"0 1px 4px rgba(0,0,0,0.2)"}}),e.jsx("span",{style:{fontWeight:"600"},children:"Minimax"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9em"},children:[e.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",flexShrink:0,background:"radial-gradient(circle at 30% 30%, #4a4a4a, #000)",boxShadow:"0 1px 4px rgba(0,0,0,0.4)"}}),e.jsx("span",{style:{fontWeight:"500",opacity:.9},children:q==="webllm"?xe.find(x=>x.id===ie)?.label||ie:D.model||"API"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{fontSize:"0.7em",opacity:.6,textTransform:"uppercase",letterSpacing:"1px",marginBottom:"6px"},children:"Playing as"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{fontSize:"1.8em"},children:d==="black"?"âš«":"âšª"}),e.jsx("span",{style:{fontWeight:"600",fontSize:"1.1em"},children:d==="black"?"Black":"White"})]})]})}),o==="playing"&&e.jsx("div",{style:{padding:"12px 15px",background:I==="aivsllm"?p==="human"?"linear-gradient(135deg, #1a1a1a, #333)":"linear-gradient(135deg, #e8e8e8, #d4d4d4)":p==="human"?"linear-gradient(135deg, #6366f1, #4f46e5)":"linear-gradient(135deg, #f59e0b, #d97706)",borderRadius:"10px",color:I==="aivsllm"&&p!=="human"?"#333":"#fff",fontWeight:"600",fontSize:"0.9em",textAlign:"center",boxShadow:I==="aivsllm"?p==="human"?"0 4px 14px rgba(0, 0, 0, 0.3)":"0 4px 14px rgba(0, 0, 0, 0.15)":p==="human"?"0 4px 14px rgba(99, 102, 241, 0.35)":"0 4px 14px rgba(245, 158, 11, 0.35)"},children:I==="aivsllm"?p==="human"?`âš« ${q==="webllm"?xe.find(x=>x.id===ie)?.label||"LLM":D.model||"LLM"} thinking...`:"âšª Minimax thinking...":p==="human"?"ðŸŽ¯ Your Turn":"ðŸ¤– AI Thinking..."}),rt&&e.jsxs("div",{style:{padding:"15px",background:o==="won"?"linear-gradient(135deg, #10b981, #059669)":"linear-gradient(135deg, #ef4444, #dc2626)",borderRadius:"10px",textAlign:"center",boxShadow:o==="won"?"0 4px 14px rgba(16, 185, 129, 0.35)":"0 4px 14px rgba(239, 68, 68, 0.35)"},children:[e.jsx("div",{style:{fontSize:"1.5em",marginBottom:"6px",color:"#fff"},children:I==="aivsllm"?o==="won"?"ðŸ¤–":e.jsx(ht,{style:{color:"#fff"}}):o==="won"?"ðŸŽ‰":"ðŸ¤–"}),e.jsx("div",{style:{color:"#fff",fontWeight:"600",fontSize:"1em"},children:I==="aivsllm"?o==="won"?"Minimax Won!":`${q==="webllm"?xe.find(x=>x.id===ie)?.label||ie:D.model||"API"} Won!`:o==="won"?"You Won!":"AI Won"})]}),be&&I==="aivsllm"&&e.jsx("div",{style:{padding:"10px 14px",background:"rgba(239, 68, 68, 0.15)",border:"1px solid rgba(239, 68, 68, 0.4)",borderRadius:"10px",color:"#f87171",fontSize:"0.78em",wordBreak:"break-word"},children:be}),e.jsxs("div",{style:{marginTop:"auto",display:"flex",flexDirection:"column",gap:"10px"},children:[e.jsxs("button",{onClick:st,style:{padding:"12px 15px",background:"linear-gradient(135deg, #6366f1, #4f46e5)",border:"none",borderRadius:"10px",color:"#fff",cursor:"pointer",fontSize:"0.9em",fontWeight:"500",transition:"all 0.2s",boxShadow:"0 4px 14px rgba(99, 102, 241, 0.35)",width:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",minHeight:"44px"},children:[e.jsx("span",{children:"ðŸ”„"}),e.jsx("span",{children:"Restart"})]}),e.jsxs("button",{onClick:it,style:{padding:"12px 15px",background:"transparent",border:"1px solid var(--blog-surface-border, #ccc)",borderRadius:"10px",color:"var(--surface-text-color)",cursor:"pointer",fontSize:"0.9em",fontWeight:"500",transition:"all 0.2s",width:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",minHeight:"44px"},children:[e.jsx("span",{children:"âš™ï¸"}),e.jsx("span",{children:"New Game"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"6px",cursor:"pointer",color:"var(--surface-text-color)",fontSize:"0.85em",padding:"12px 15px",margin:0,background:R?"rgba(34, 197, 94, 0.12)":"var(--blog-surface-background)",borderRadius:"10px",border:R?"1px solid rgba(34, 197, 94, 0.4)":"1px solid var(--blog-surface-border, #333)",transition:"all 0.2s",width:"100%",boxSizing:"border-box",minHeight:"44px"},children:[e.jsx("input",{type:"checkbox",checked:R,onChange:x=>N(x.target.checked),style:{display:"none"}}),e.jsx("div",{style:{width:"36px",height:"20px",background:R?"linear-gradient(135deg, #22c55e, #16a34a)":"var(--blog-surface-border, #555)",borderRadius:"10px",position:"relative",transition:"all 0.2s",flexShrink:0,boxShadow:R?"0 2px 8px rgba(34, 197, 94, 0.3)":"none"},children:e.jsx("div",{style:{width:"16px",height:"16px",background:"#fff",borderRadius:"50%",position:"absolute",top:"2px",left:R?"18px":"2px",transition:"all 0.2s",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"}})}),e.jsxs("span",{style:{lineHeight:"1"},children:[R?"ðŸ”Š":"ðŸ”‡"," Sound"]})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"6px",cursor:"pointer",color:"var(--surface-text-color)",fontSize:"0.85em",padding:"12px 15px",margin:0,background:h?"rgba(99, 102, 241, 0.12)":"var(--blog-surface-background)",borderRadius:"10px",border:h?"1px solid rgba(99, 102, 241, 0.4)":"1px solid var(--blog-surface-border, #333)",transition:"all 0.2s",width:"100%",boxSizing:"border-box",minHeight:"44px"},children:[e.jsx("input",{type:"checkbox",checked:h,onChange:x=>k(x.target.checked),style:{display:"none"}}),e.jsx("div",{style:{width:"36px",height:"20px",background:h?"linear-gradient(135deg, #6366f1, #4f46e5)":"var(--blog-surface-border, #555)",borderRadius:"10px",position:"relative",transition:"all 0.2s",flexShrink:0,margin:"0px",boxShadow:h?"0 2px 8px rgba(99, 102, 241, 0.3)":"none"},children:e.jsx("div",{style:{width:"16px",height:"16px",background:"#fff",borderRadius:"50%",position:"absolute",margin:"0px",top:"2px",left:h?"18px":"2px",transition:"all 0.2s",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"}})}),e.jsx("span",{style:{lineHeight:"1.3"},children:"Visualize AI"})]})]}),e.jsxs("div",{style:{color:"var(--surface-text-color)",padding:"12px 15px",background:"var(--blog-surface-background)",borderRadius:"10px",border:"1px solid var(--blog-surface-border, #333)",fontSize:"0.85em"},children:[e.jsxs("div",{style:{fontWeight:"500",textAlign:"center",marginBottom:"8px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(()=>{const x=y%2===1;return e.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",flexShrink:0,background:x?"radial-gradient(circle at 30% 30%, #4a4a4a, #000)":"radial-gradient(circle at 30% 30%, #fff, #d4d4d4)",boxShadow:x?"0 1px 3px rgba(0,0,0,0.4)":"0 1px 3px rgba(0,0,0,0.2)",border:x?"none":"1px solid #ccc"}})})(),e.jsxs("span",{children:["Move #",Math.ceil(y/2)]})]}),I!=="aivsllm"&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",opacity:.8},children:[e.jsx("span",{children:"Difficulty:"}),e.jsxs("span",{style:{fontWeight:"500"},children:[he[ee]?.emoji," ",he[ee]?.label]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",opacity:.8,marginTop:"4px"},children:[e.jsx("span",{children:"Max Depth:"}),e.jsx("span",{style:{fontWeight:"500"},children:I==="aivsllm"?w:W})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",opacity:.8,marginTop:"4px"},children:[e.jsx("span",{children:"Current Depth:"}),e.jsx("span",{style:{fontWeight:"500"},children:_??"â€”"})]})]})]})]})})}class Ut extends lt.Component{componentDidMount(){window.scrollTo(0,0),document.title="Renju - A Strategic Board Game with AI | blog by Pranshu Gupta"}render(){return e.jsxs("div",{className:"language-javascript",children:[e.jsx("div",{className:"row bhead",children:e.jsx(ct,{className:"bigger gt1"})}),e.jsx("h1",{className:"title",children:"Renju - A Strategic Board Game with AI"}),e.jsx("p",{children:"Pranshu Gupta, February 15, 2026"}),e.jsx(ut,{link:window.location.href,title:"Renju - A Strategic Board Game with AI"}),e.jsx("p",{className:"introduction",children:"Renju looks simple at first glance - place stones, get five in a row - but beneath that simplicity lies a game so strategically rich that researchers proved perfect play guarantees a win for Black. This project brings that depth into the browser with a fast, optimized minimax AI, four difficulty levels including an adaptive mode that learns from your play, and a unique mode where you can pit the AI against a large language model and watch two very different intelligences clash."}),e.jsx("hr",{style:{backgroundColor:"white"}}),e.jsx("h2",{className:"headings",children:"Play the Game"}),e.jsx("p",{children:"Renju is deceptively simple in its rules but offers surprising strategic depth:"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"8px 16px",background:"var(--blog-surface-background)",border:"1px solid var(--blog-surface-border, #333)",borderRadius:"10px",padding:"18px",marginBottom:"16px",fontSize:"0.95em"},children:[e.jsx("b",{children:"Objective"}),e.jsx("span",{children:"Be the first to place five stones in an unbroken line"}),e.jsx("b",{children:"Board"}),e.jsx("span",{children:"15 Ã— 15 grid (same as Go)"}),e.jsx("b",{children:"Turns"}),e.jsx("span",{children:"Players alternate placing stones; Black always moves first"}),e.jsx("b",{children:"Victory"}),e.jsx("span",{children:"Five consecutive stones - horizontal, vertical, or diagonal - wins"})]}),e.jsxs("p",{children:[e.jsx("b",{children:"Why it's interesting:"})," Despite simple rules, Renju rewards thinking several moves ahead, recognizing tactical patterns like open threes and fours, and balancing offense with defense. A single misplaced stone can flip the game."]}),e.jsx(Ve,{mode:"pvai"}),e.jsxs("p",{children:["The current search depth is displayed during gameplay. ",e.jsx("b",{children:"Adaptive"})," mode is especially interesting - when you win, the AI's search depth increases by 1 (up to a maximum of 10), making it progressively harder. Lose, and it dials back down. This creates a personalized challenge that feels almost human: the AI is always just slightly ahead of or behind your skill level. For example, if you beat it twice in a row, its depth might jump from 5 to 7, making the third game noticeably tougher."]}),e.jsx("p",{children:"Choose your stone color and difficulty, and see if you can beat it!"}),e.jsx("hr",{style:{backgroundColor:"white"}}),e.jsx("h2",{className:"headings",children:"The Minimax Algorithm"}),e.jsxs("p",{children:["Imagine the AI staring at the board and asking: ",e.jsx("i",{children:`"If I place a stone here, what's the best my opponent can do? And then what's my best reply to that?"`})," That recursive question is the heart of the ",e.jsx("b",{children:"minimax algorithm"}),". At each turn, the AI builds a tree of possible futures - alternating between its own best moves and the opponent's best responses - and chooses the path that leads to the best guaranteed outcome, even against a perfect opponent."]}),e.jsxs("p",{children:["But the tree grows fast. On a 15Ã—15 board, even a few moves deep can mean millions of positions. That's where ",e.jsx("b",{children:"alpha-beta pruning"})," comes in - it cuts away branches that can't possibly beat an already-discovered option. Think of it as the AI saying, ",e.jsx("i",{children:'"I already found a move that guarantees a score of +50. This new branch can only reach +30 at best - skip it."'})," In practice, this eliminates the vast majority of the search space."]}),e.jsx("p",{children:"Several additional optimizations keep the AI responsive even at higher search depths:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("b",{children:"Transposition Table:"})," A hash map caches previously evaluated board positions to avoid redundant work when different move orderings lead to the same state."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Move Ordering:"})," Candidate moves are scored with a quick heuristic and sorted before the full search begins. Good move ordering triggers more alpha-beta cutoffs, making the search significantly faster."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Pattern-Based Evaluation:"})," The evaluation function recognizes tactical patterns - open fours, broken fours, double threes, jump threes - and assigns calibrated scores to each. It also detects powerful combinations like four-three or double-four that force a win."]})]}),e.jsx("h3",{className:"headings",children:"Renju Forbidden Moves"}),e.jsx("p",{children:'What makes Renju different from plain Gomoku? Special rules for Black that prevent the first-player advantage from dominating. These "forbidden moves" are moves that Black is not allowed to make:'}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("b",{children:"Overline:"})," Placing a stone that creates six or more in a row. Only exactly five wins."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Double-Four:"})," A single stone that simultaneously creates two separate lines of four. This would be too powerful - it forces two threats the opponent can't both block."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Double-Three:"})," A single stone that creates two open threes (lines of three with both ends open). Like double-four, it creates an unstoppable double threat."]})]}),e.jsx("p",{children:"These rules exist because mathematicians proved that without them, Black (who moves first) can always force a win. By restricting Black's most explosive tactics, Renju restores the balance and rewards deeper strategic thinking for both sides. The AI detects and enforces all of these restrictions automatically."}),e.jsxs("div",{style:{background:"rgba(246, 173, 85, 0.1)",border:"1px solid #f6ad55",borderRadius:"4px",padding:"20px",marginTop:"20px"},children:[e.jsxs("h4",{style:{color:"#f6ad55",marginBottom:"10px"},children:[e.jsx(dt,{style:{marginRight:"10px"}}),"Performance"]}),e.jsx("p",{style:{marginBottom:0},children:"At depth 10, the search space explodes to millions of possible positions. With alpha-beta pruning, move ordering, and a transposition table, the AI evaluates only a tiny fraction of them - keeping move times under ~200ms on modern hardware. The transposition table alone can cut redundant evaluations by over 40% in complex mid-game positions."})]}),e.jsx("hr",{style:{backgroundColor:"white"}}),e.jsx("h2",{className:"headings",children:"AI vs LLM"}),e.jsx("p",{children:"What happens when you put a purpose-built game engine against a general-purpose language model? The minimax AI sees the board as numbers - scores, depths, pruned branches. The LLM sees it as text - a grid of symbols it must reason about spatially. They think in fundamentally different ways, and watching them play reveals surprising things about both."}),e.jsx("p",{children:"In this mode, the LLM plays as Black (first move) and the local minimax AI plays as White. The game runs automatically - you just sit back and observe."}),e.jsx(Ve,{mode:"aivsllm"}),e.jsx("h3",{className:"headings",children:"Connecting an LLM"}),e.jsx("p",{children:"There are two ways to bring an LLM into the game:"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginTop:"16px",marginBottom:"20px"},children:[e.jsxs("div",{style:{background:"var(--blog-surface-background)",border:"1px solid var(--blog-surface-border, #333)",borderRadius:"10px",padding:"18px"},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"1em",marginBottom:"8px"},children:"ðŸ’» On-Device"}),e.jsxs("p",{style:{fontSize:"0.9em",opacity:.8,marginBottom:"10px"},children:["Runs entirely in your browser via ",e.jsx("a",{href:"https://webllm.mlc.ai/",target:"_blank",rel:"noopener noreferrer",children:"WebLLM"})," + WebGPU. No server needed. Pick a model, click load, and play. Weights are cached after first download. Requires Chrome/Edge with WebGPU support."]})]}),e.jsxs("div",{style:{background:"var(--blog-surface-background)",border:"1px solid var(--blog-surface-border, #333)",borderRadius:"10px",padding:"18px"},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"1em",marginBottom:"8px"},children:"ðŸ”Œ API"}),e.jsx("p",{style:{fontSize:"0.9em",opacity:.8,marginBottom:"10px"},children:"Connects to any OpenAI-compatible chat completions endpoint - local or cloud. Works with Docker Model Runner, Ollama, LM Studio, Azure OpenAI, OpenAI, and more. Just paste the full URL, add a model name and API key if needed."})]})]}),e.jsxs("details",{style:{marginBottom:"20px"},children:[e.jsx("summary",{style:{cursor:"pointer",fontWeight:"600",fontSize:"0.95em",opacity:.9},children:"Example API endpoints"}),e.jsxs("ul",{style:{marginTop:"10px"},children:[e.jsxs("li",{children:[e.jsx("b",{children:"Docker Model Runner:"})," ",e.jsx("code",{children:"http://localhost:12434/engines/llama.cpp/v1/chat/completions"})," Â· model: ",e.jsx("code",{children:"ai/mistral"})]}),e.jsxs("li",{children:[e.jsx("b",{children:"Ollama:"})," ",e.jsx("code",{children:"http://localhost:11434/v1/chat/completions"})," Â· model: ",e.jsx("code",{children:"llama3"})]}),e.jsxs("li",{children:[e.jsx("b",{children:"LM Studio:"})," ",e.jsx("code",{children:"http://localhost:1234/v1/chat/completions"})]}),e.jsxs("li",{children:[e.jsx("b",{children:"Azure OpenAI:"})," ",e.jsx("code",{children:"https://<resource>.openai.azure.com/openai/deployments/<model>/chat/completions?api-version=2024-02-01"})," + API key"]}),e.jsxs("li",{children:[e.jsx("b",{children:"OpenAI:"})," ",e.jsx("code",{children:"https://api.openai.com/v1/chat/completions"})," + API key"]})]})]}),e.jsx("p",{children:"The LLM receives a text representation of the board along with strategic guidance and responds with its next move in algebraic notation (e.g. H8). A few things make this mode interesting:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("b",{children:"Threat Hints:"})," The LLM receives pre-computed threat analysis in its prompt. With hints enabled, the prompt includes specific blocking coordinates for the opponent's open threes and fours - without them, the LLM must figure out threats on its own from the raw board state."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Adaptive Difficulty:"})," The difficulty adjustment works in reverse here. When the local AI wins, its search depth ",e.jsx("i",{children:"decreases"})," to give the LLM a better chance. When the LLM wins, the AI gets harder. This creates an interesting dynamic where the AI calibrates itself to the LLM's skill level."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Visualize AI:"}),` You can enable the "Visualize AI" toggle to watch the minimax algorithm explore candidate moves in real time during the local AI's turn.`]})]}),e.jsx("p",{children:"The minimax AI usually wins - but the LLM can occasionally pull off surprisingly creative moves. It might ignore a conventional threat to set up an unexpected diagonal, or find a pattern that the AI's evaluation function undervalues. It's a fascinating window into how language models reason about spatial strategy."}),e.jsxs("ul",{style:{marginBottom:"20px"},children:[e.jsx("li",{children:"Watch two fundamentally different intelligences clash in real time"}),e.jsx("li",{children:"See how LLMs reason (and struggle) with spatial strategy"}),e.jsx("li",{children:"Observe adaptive difficulty calibrating itself to the LLM's skill level"}),e.jsx("li",{children:"Toggle threat hints on/off to see how much tactical help the LLM needs"})]}),e.jsxs("div",{style:{background:"rgba(66, 153, 225, 0.1)",border:"1px solid #4299e1",borderRadius:"4px",padding:"20px",marginTop:"30px"},children:[e.jsxs("h4",{style:{color:"#4299e1",marginBottom:"10px"},children:[e.jsx(pt,{style:{marginRight:"10px"}}),"Fun Fact"]}),e.jsx("p",{style:{marginBottom:0},children:"In 2001, researchers proved that with perfect play, the first player (Black) always wins in standard Gomoku. This led to the creation of Renju, which adds special rules to balance the game. In this implementation, the AI uses adaptive difficulty - it gets stronger when you win and easier when you lose, creating a personalized challenge that grows with your skill!"})]}),e.jsx("hr",{style:{backgroundColor:"white"}}),e.jsx("h2",{className:"headings",children:"Source Code"}),e.jsx("p",{children:"The complete source code for this project is available on GitHub. You can run it locally or deploy it to any static hosting service."}),e.jsxs("p",{children:["Whether you're interested in game AI, React development, or just enjoy strategic board games - give it a try. Can you beat Adaptive mode? If you find a bug, have an idea, or just want to share a particularly wild LLM game, feel free to ",e.jsx("a",{href:"https://github.com/Pranshu258/Pranshu258.github.io/issues",target:"_blank",rel:"noopener noreferrer",children:"open an issue"})," or submit a PR."]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"8px 16px",background:"var(--blog-surface-background)",border:"1px solid var(--blog-surface-border, #333)",borderRadius:"10px",padding:"18px",marginBottom:"20px",fontSize:"0.95em"},children:[e.jsx("b",{children:"UI"}),e.jsx("span",{children:"React class components with inline styles for game elements"}),e.jsx("b",{children:"AI Engine"}),e.jsx("span",{children:"Minimax with alpha-beta pruning, transposition table, and pattern-based evaluation"}),e.jsx("b",{children:"Board State"}),e.jsx("span",{children:"2D array (15x15) with numeric cell values; serialized to algebraic notation for LLM prompts"}),e.jsx("b",{children:"On-Device LLM"}),e.jsxs("span",{children:[e.jsx("a",{href:"https://webllm.mlc.ai/",target:"_blank",rel:"noopener noreferrer",children:"WebLLM"})," + WebGPU - runs entirely in-browser, no server required"]}),e.jsx("b",{children:"API LLM"}),e.jsx("span",{children:"Any OpenAI-compatible chat completions endpoint (Ollama, LM Studio, Azure, etc.)"}),e.jsx("b",{children:"Build"}),e.jsx("span",{children:"Vite for fast development and optimized production builds"})]}),e.jsxs("a",{href:"https://github.com/Pranshu258/Pranshu258.github.io/tree/react/src/renju",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"12px 24px",background:"linear-gradient(135deg, #24292e, #1a1e22)",color:"#fff",borderRadius:"8px",textDecoration:"none",fontWeight:"600",fontSize:"0.95em",marginTop:"15px",marginBottom:"15px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",transition:"all 0.2s"},children:[e.jsx("svg",{height:"20",width:"20",viewBox:"0 0 16 16",fill:"currentColor",children:e.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})}),"View Source on GitHub"]}),e.jsx("hr",{style:{backgroundColor:"white"}})]})}}export{Ut as default};
