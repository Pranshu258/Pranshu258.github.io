import{r as E,j as e,_ as rt,R as it,F as at,a as lt}from"./index-B8KTqW29.js";import{T as ct,S as dt}from"./sharer-CGfZ5175.js";/* empty css              */const P=40,oe=600,J=20;function ze(n){const o=n-J,s=Math.round(o/P),d=Math.max(0,Math.min(14,s));return J+d*P-P/2}function pt(n,o,s,d){const a=14*P;return n<0||n>a||o<0||o>a?!1:![...s,...d].some(([i,l])=>i===n&&l===o)}const ut="ABCDEFGHIJKLMNO",Le=({humanMoves:n,computerMoves:o,userColor:s,onMove:d,disabled:c,lastMove:a,candidateMoves:r=[],winningLine:i=null})=>{const l=E.useRef(null);E.useEffect(()=>{const t=l.current;if(!t)return;const m=t.getContext("2d");p(m,n,o,s,a,r,i)},[n,o,s,a,r,i]);const p=(t,m,h,u,k,L,w)=>{t.clearRect(0,0,oe,oe);const x=t.createLinearGradient(0,0,oe,oe);x.addColorStop(0,"#DEB887"),x.addColorStop(.3,"#D4A574"),x.addColorStop(.6,"#C9956C"),x.addColorStop(1,"#D4A574"),t.fillStyle=x,t.fillRect(0,0,oe,oe),t.strokeStyle="rgba(139, 90, 43, 0.15)",t.lineWidth=1;for(let v=0;v<oe;v+=8)t.beginPath(),t.moveTo(0,v+Math.sin(v*.05)*3),t.lineTo(oe,v+Math.sin(v*.05+2)*3),t.stroke();t.strokeStyle="rgba(0, 0, 0, 0.7)",t.lineWidth=1;const S=J+14*P;for(let v=0;v<15;v++){const I=J+v*P;t.beginPath(),t.moveTo(I,J),t.lineTo(I,S),t.stroke(),t.beginPath(),t.moveTo(J,I),t.lineTo(S,I),t.stroke()}t.fillStyle="rgba(80, 50, 20, 0.55)",t.font="9px sans-serif",t.textAlign="center",t.textBaseline="bottom";for(let v=0;v<15;v++)t.fillText(ut[v],J+v*P,J-5);t.textAlign="right",t.textBaseline="middle";for(let v=0;v<15;v++)t.fillText(String(v+1),J-5,J+v*P);const N=[[3,3],[3,11],[7,7],[11,3],[11,11]];t.fillStyle="#2a1810",N.forEach(([v,I])=>{const M=J+v*P,F=J+I*P;t.beginPath(),t.arc(M,F,4,0,Math.PI*2),t.fill()});const T=P*.4,O=u==="white"?"#FFF":"#000",D=u==="white"?"#000":"#FFF";if(h.forEach(([v,I])=>{f(t,v+P/2,I+P/2,T,D)}),m.forEach(([v,I])=>{f(t,v+P/2,I+P/2,T,O)}),k){const[v,I]=k,M=v+P/2,F=I+P/2,z=m.some(([H,Z])=>H===v&&Z===I)&&u==="white"||h.some(([H,Z])=>H===v&&Z===I)&&u==="black";t.save(),t.fillStyle=z?"#e53935":"#ff6b6b",t.beginPath(),t.arc(M,F,T*.25,0,Math.PI*2),t.fill(),t.restore()}if(L&&L.length>0&&L.forEach(({move:v,status:I,score:M})=>{const[F,z]=v,H=F+P/2,Z=z+P/2;if(t.save(),I==="evaluating")t.strokeStyle="#ffc107",t.lineWidth=3,t.setLineDash([4,4]),t.beginPath(),t.arc(H,Z,T+4,0,Math.PI*2),t.stroke();else if(I==="evaluated"){const re=.3+Math.min(Math.max((M+10)/20,0),1)*.5;t.fillStyle=`rgba(33, 150, 243, ${re})`,t.beginPath(),t.arc(H,Z,T*.6,0,Math.PI*2),t.fill(),t.fillStyle="#fff",t.font="bold 10px sans-serif",t.textAlign="center",t.textBaseline="middle",t.fillText(M?.toFixed(0)||"?",H,Z)}t.restore()}),w&&w.length>=2){t.save();const v=w[0],I=w[w.length-1],M=v[0]+P/2,F=v[1]+P/2,z=I[0]+P/2,H=I[1]+P/2;t.strokeStyle="#e53935",t.lineWidth=6,t.lineCap="round",t.shadowColor="rgba(0, 0, 0, 0.5)",t.shadowBlur=8,t.shadowOffsetX=2,t.shadowOffsetY=2,t.beginPath(),t.moveTo(M,F),t.lineTo(z,H),t.stroke(),t.restore()}},f=(t,m,h,u,k)=>{if(t.save(),t.fillStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.arc(m+2,h+2,u,0,Math.PI*2),t.fill(),k==="#FFF"){const w=t.createRadialGradient(m-u*.3,h-u*.3,u*.1,m,h,u);w.addColorStop(0,"#FFF"),w.addColorStop(1,"#E0E0E0"),t.fillStyle=w}else{const w=t.createRadialGradient(m-u*.3,h-u*.3,u*.1,m,h,u);w.addColorStop(0,"#444"),w.addColorStop(1,"#000"),t.fillStyle=w}t.beginPath(),t.arc(m,h,u,0,Math.PI*2),t.fill();const L=t.createRadialGradient(m-u*.4,h-u*.4,0,m-u*.4,h-u*.4,u*.5);L.addColorStop(0,k==="#FFF"?"rgba(255, 255, 255, 0.8)":"rgba(255, 255, 255, 0.3)"),L.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=L,t.beginPath(),t.arc(m-u*.3,h-u*.3,u*.5,0,Math.PI*2),t.fill(),t.strokeStyle=k==="#FFF"?"#AAA":"#222",t.lineWidth=1,t.beginPath(),t.arc(m,h,u,0,Math.PI*2),t.stroke(),t.restore()},y=t=>{if(c)return;const m=l.current,h=m.getBoundingClientRect(),u=m.width/h.width,k=m.height/h.height,L=(t.clientX-h.left)*u,w=(t.clientY-h.top)*k;d(L,w)};return e.jsx("canvas",{ref:l,width:oe,height:oe,onClick:y,style:{borderRadius:"8px",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.4), inset 0 0 0 4px rgba(139, 90, 43, 0.5)",cursor:c?"default":"pointer",display:"block",background:"linear-gradient(145deg, #DEB887, #D4A574)",width:"100%",height:"auto",border:"4px solid #8B5A2B"}})},g=40,le=14*g,ft=10,B={WIN:100,DOUBLE_FOUR:90,FOUR_THREE:85,DOUBLE_THREE:80,BLOCK_FOUR:75,FOUR_OPEN:70,FOUR_HALF:50,BROKEN_FOUR:45,BLOCK_THREE:35,THREE_OPEN:30,THREE_HALF:15,JUMP_THREE:12,TWO_OPEN:5,TWO:3,CENTER_BONUS:2,NONE:0},G=[[1,0],[0,1],[1,1],[1,-1]],ht=[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],ve=new Map,gt=1e5;function Ae(n,o){return n<<16|o&65535}function Q(n){const o=new Set;for(let s=0;s<n.length;s++)o.add(Ae(n[s][0],n[s][1]));return o}function j(n,o,s){return n.has(Ae(o,s))}function ge(n,o){return n>=0&&n<=le&&o>=0&&o<=le}function xt(n,o,s){for(const[d,c]of G){let a=1;for(let r=1;r<=5&&j(n,o+g*r*d,s+g*r*c);r++)a++;for(let r=1;r<=5&&j(n,o-g*r*d,s-g*r*c);r++)a++;if(a>5)return!0}return!1}function mt(n,o,s,d){let c=0;for(const[a,r]of G){let i=1,l=!1,p=!1;for(let f=1;f<=4;f++){const y=s+g*f*a,t=d+g*f*r;if(j(n,y,t))i++;else{ge(y,t)&&!j(o,y,t)&&(l=!0);break}}for(let f=1;f<=4;f++){const y=s-g*f*a,t=d-g*f*r;if(j(n,y,t))i++;else{ge(y,t)&&!j(o,y,t)&&(p=!0);break}}i===4&&(l||p)&&c++}return c}function bt(n,o,s,d){let c=0;for(const[a,r]of G){let i=1,l=!1,p=!1,f=!1,y=!1;for(let t=1;t<=3;t++){const m=s+g*t*a,h=d+g*t*r;if(j(n,m,h))i++;else{if(ge(m,h)&&!j(o,m,h)){l=!0;const u=s+g*(t+1)*a,k=d+g*(t+1)*r;ge(u,k)&&!j(o,u,k)&&(f=!0)}break}}for(let t=1;t<=3;t++){const m=s-g*t*a,h=d-g*t*r;if(j(n,m,h))i++;else{if(ge(m,h)&&!j(o,m,h)){p=!0;const u=s-g*(t+1)*a,k=d-g*(t+1)*r;ge(u,k)&&!j(o,u,k)&&(y=!0)}break}}i===3&&l&&p&&(f||y)&&c++}return c}function yt(n,o,s,d){const[c,a]=s,r=Q(n),i=Q(o);return xt(r,c,a)?{forbidden:!0,reason:"overline"}:mt(r,i,c,a)>=2?{forbidden:!0,reason:"double-four"}:bt(r,i,c,a)>=2?{forbidden:!0,reason:"double-three"}:{forbidden:!1,reason:null}}function $e(n,o,s,d){const c=Q(n);for(const[a,r]of G){let i=1;for(let l=1;l<=5&&j(c,o+g*l*a,s+g*l*r);l++)i++;for(let l=1;l<=5&&j(c,o-g*l*a,s-g*l*r);l++)i++;if(i===5)return!0}return!1}function vt(n,o){const s=[...n].sort((c,a)=>c[0]-a[0]||c[1]-a[1]),d=[...o].sort((c,a)=>c[0]-a[0]||c[1]-a[1]);return JSON.stringify([s,d])}function Be(n,o,s,d,c,a,r=!1){const i=vt(n,o),l=ve.get(i);if(l&&l.depth>=d-s)return s===0?l:l.score;const p=Q(n);if(qe(p,n)||s===d){const h=Ve(n,o);return s===0?{score:h,bestMove:null}:h}let f=null,y=-1e3;const t=s%2===0?r:!r,m=Ce(n,o,t);for(const h of m){n.push(h);let u=Be(o,n,s+1,d,-a,-Math.max(c,y),r);if(typeof u=="object"&&(u=u.score),u=-u,n.pop(),u>y&&(y=u,f=h,y>=a))break}return ve.size<gt&&ve.set(i,{score:y,depth:d-s,bestMove:f}),s===0?{score:y,bestMove:f}:y}async function _e(n,o,s,d,c=!1){const a=[];let r=null;async function i(l,p,f,y,t){const m=Q(l);if(qe(m,l)||f===s)return Ve(l,p);let h=null,u=-1e3;const k=f%2===0?c:!c,L=Ce(l,p,k);for(const w of L){f===0&&(d(w,"evaluating"),await new Promise(S=>setTimeout(S,150))),l.push(w);let x=await i(p,l,f+1,-t,-Math.max(y,u));if(x=-x,l.pop(),f===0&&(a.push({move:w,score:x}),d(w,"evaluated",x)),x>u&&(u=x,h=w,u>=t))break}return f===0&&(r=h),u}return await i([...n],[...o],0,-1e3,1e3),{candidates:a,bestMove:r}}function qe(n,o){for(let s=0;s<o.length;s++){const[d,c]=o[s];for(const[a,r]of G){let i=1;for(let l=1;l<=4&&j(n,d+g*l*a,c+g*l*r);l++)i++;for(let l=1;l<=4&&j(n,d-g*l*a,c-g*l*r);l++)i++;if(i>=5)return!0}}return!1}function Ce(n,o,s=!1){const d=Q([...n,...o]),c=new Set;let a=[];for(const[i,l]of[...n,...o])for(const[p,f]of ht){const y=i+g*p,t=l+g*f,m=Ae(y,t);!d.has(m)&&!c.has(m)&&y>=0&&y<=le&&t>=0&&t<=le&&(c.add(m),a.push([y,t]))}if(s){const i=a.filter(l=>!yt(n,o,l).forbidden);i.length>0&&(a=i)}const r=a.map(i=>({move:i,score:jt(n,o,i)}));return r.sort((i,l)=>l.score-i.score),r.slice(0,ft).map(i=>i.move)}function jt(n,o,s){const[d,c]=s,a=Q(n),r=Q(o);let i=0,l=0,p=0;for(const[m,h]of G){let u=0,k=0,L=0,w=0;for(let x=1;x<=4;x++){const S=d+g*x*m,N=c+g*x*h;if(j(a,S,N))u++;else{if(j(r,S,N))break;if(w===0&&x<=3){const T=d+g*(x+1)*m,O=c+g*(x+1)*h;if(j(a,T,O)){w++;continue}}L++;break}}for(let x=1;x<=4;x++){const S=d-g*x*m,N=c-g*x*h;if(j(a,S,N))u++;else{if(j(r,S,N))break;if(w===0&&x<=3){const T=d-g*(x+1)*m,O=c-g*(x+1)*h;if(j(a,T,O)){w++;continue}}L++;break}}for(let x=1;x<=4;x++){const S=d+g*x*m,N=c+g*x*h;if(j(r,S,N))k++;else break}for(let x=1;x<=4;x++){const S=d-g*x*m,N=c-g*x*h;if(j(r,S,N))k++;else break}u>=4?(i+=B.WIN,p++):u===3&&w===1?i+=B.BROKEN_FOUR:u===3&&L===2?(i+=B.FOUR_OPEN,p++):u===3?i+=B.FOUR_HALF:u===2&&w===1&&L>=1?i+=B.JUMP_THREE:u===2&&L===2?(i+=B.THREE_OPEN,l++):u===2?i+=B.THREE_HALF:u===1&&L===2?i+=B.TWO_OPEN:u===1&&(i+=B.TWO),k>=4?i+=B.BLOCK_FOUR:k===3&&(i+=B.BLOCK_THREE)}p>=2&&(i+=B.DOUBLE_FOUR),p>=1&&l>=1&&(i+=B.FOUR_THREE),l>=2&&(i+=B.DOUBLE_THREE);const f=le/2,y=le/2;return Math.abs(d-f)+Math.abs(c-y)<g*3&&(i+=B.CENTER_BONUS),i}function Ve(n,o){if(n.length===0)return 0;const s=n[n.length-1][0],d=n[n.length-1][1],c=Q(n.slice(0,-1)),a=Q(o);if(Ne(c,s,d))return B.WIN;if(Ne(a,s,d))return B.BLOCK_FOUR;const r=wt(c,a,s,d);if(r.openFours>=2)return B.DOUBLE_FOUR;if(r.openFours>=1&&r.openThrees>=1)return B.FOUR_THREE;if(r.openThrees>=2)return B.DOUBLE_THREE;const i=Mt(c,a,s,d);if(i>0)return i;if(kt(c,s,d))return B.BROKEN_FOUR;if(Ge(a,c,s,d)>0)return B.BLOCK_THREE;const l=Ge(c,a,s,d);if(l>0)return l;if(St(c,a,s,d))return B.JUMP_THREE;if(Lt(c,a,s,d))return B.TWO_OPEN;if(Rt(c,s,d))return B.TWO;const p=le/2,f=le/2;return Math.abs(s-p)+Math.abs(d-f)<g*3?B.CENTER_BONUS:B.NONE}function wt(n,o,s,d){let c=0,a=0;for(const[r,i]of G){let l=0,p=0;for(let f=1;f<=4;f++){const y=s+g*f*r,t=d+g*f*i;if(j(n,y,t))l++;else{j(o,y,t)||p++;break}}for(let f=1;f<=4;f++){const y=s-g*f*r,t=d-g*f*i;if(j(n,y,t))l++;else{j(o,y,t)||p++;break}}l>=3&&p>=1?a++:l===2&&p===2&&c++}return{openThrees:c,openFours:a}}function kt(n,o,s){for(const[d,c]of G)for(let a=-3;a<=0;a++){let r=0,i=0,l=!1;for(let p=0;p<5;p++){const f=a+p,y=o+g*f*d,t=s+g*f*c;f===0?(l=!0,r++):j(n,y,t)?r++:i++}if(r===4&&i===1&&l)return!0}return!1}function St(n,o,s,d){for(const[c,a]of G)for(const r of[1,-1]){const i=s+g*1*r*c,l=d+g*1*r*a,p=s+g*2*r*c,f=d+g*2*r*a,y=s+g*3*r*c,t=d+g*3*r*a;if(!j(n,i,l)&&!j(o,i,l)&&j(n,p,f)&&j(n,y,t))return!0}return!1}function Ne(n,o,s){for(const[d,c]of G){let a=0;for(let r=1;r<=4&&j(n,o+g*r*d,s+g*r*c);r++)a++;for(let r=1;r<=4&&j(n,o-g*r*d,s-g*r*c);r++)a++;if(a>=4)return!0}return!1}function Mt(n,o,s,d){for(const[c,a]of G){let r=0,i=0;for(let l=1;l<=4;l++){const p=s+g*l*c,f=d+g*l*a;if(j(n,p,f))r++;else{j(o,p,f)||i++;break}}for(let l=1;l<=4;l++){const p=s-g*l*c,f=d-g*l*a;if(j(n,p,f))r++;else{j(o,p,f)||i++;break}}if(r>=3)return i===2?B.FOUR_OPEN:i===1?B.FOUR_HALF:0}return 0}function Ge(n,o,s,d){for(const[c,a]of G){let r=0,i=0;for(let l=1;l<=3;l++){const p=s+g*l*c,f=d+g*l*a;if(j(n,p,f))r++;else{j(o,p,f)||i++;break}}for(let l=1;l<=3;l++){const p=s-g*l*c,f=d-g*l*a;if(j(n,p,f))r++;else{j(o,p,f)||i++;break}}if(r>=2)return i===2?B.THREE_OPEN:i===1?B.THREE_HALF:0}return 0}function Rt(n,o,s){for(const[d,c]of G)if(j(n,o+g*d,s+g*c)||j(n,o-g*d,s-g*c))return!0;return!1}function Lt(n,o,s,d){for(const[c,a]of G){let r=0,i=0;const l=s+g*c,p=d+g*a;if(j(n,l,p)){r++;const t=s+g*2*c,m=d+g*2*a;!j(n,t,m)&&!j(o,t,m)&&i++}const f=s-g*c,y=d-g*a;if(j(n,f,y)){r++;const t=s-g*2*c,m=d-g*2*a;!j(n,t,m)&&!j(o,t,m)&&i++}if(r>=1&&i===2)return!0}return!1}function Ie(n,o,s){const d=Q(n);for(const[c,a]of G){let r=1;for(let i=1;i<=4&&j(d,o+g*i*c,s+g*i*a);i++)r++;for(let i=1;i<=4&&j(d,o-g*i*c,s-g*i*a);i++)r++;if(r>=5)return!0}return!1}function be(n,o,s){const d=Q(n);for(const[c,a]of G){const r=[[o,s]];for(let i=1;i<=4;i++){const l=o+g*i*c,p=s+g*i*a;if(j(d,l,p))r.push([l,p]);else break}for(let i=1;i<=4;i++){const l=o-g*i*c,p=s-g*i*a;if(j(d,l,p))r.unshift([l,p]);else break}if(r.length>=5)return r.slice(0,5)}return null}function De(){ve.clear()}let Te=null;async function It(){return Te||(Te=await rt(()=>import("./index-DFLBea7M.js"),[])),Te}const C=40,Ke="ABCDEFGHIJKLMNO";function V(n,o){const s=n/C,d=o/C;return`${Ke[s]}${d+1}`}function Ee(n){const o=n.trim().match(/^([A-Oa-o])(\d{1,2})$/);if(!o)return null;const s=Ke.indexOf(o[1].toUpperCase()),d=parseInt(o[2],10)-1;return s<0||s>14||d<0||d>14?null:[s*C,d*C]}function Tt(n,o){const s=new Set,d=new Set,c=new Set;for(const[m,h]of n){const u=`${m/C},${h/C}`;s.add("B:"+u),c.add(u)}for(const[m,h]of o){const u=`${m/C},${h/C}`;d.add("W:"+u),c.add(u)}const a=[],r=n.map(([m,h])=>V(m,h)),i=o.map(([m,h])=>V(m,h));a.push(`Black (X) stones: ${r.length?r.join(", "):"none"}`),a.push(`White (O) stones: ${i.length?i.join(", "):"none"}`),a.push(`Empty intersections: ${225-n.length-o.length}`);const l=[{dc:1,dr:0,name:"horizontal"},{dc:0,dr:1,name:"vertical"},{dc:1,dr:1,name:"diagonal (â†˜)"},{dc:1,dr:-1,name:"diagonal (â†—)"}];function p(m,h){if(m.length<2)return[];const u=new Set(m.map(([w,x])=>`${w/C},${x/C}`)),k=[],L=new Set;for(const[w,x]of m){const S=w/C,N=x/C;for(const{dc:T,dr:O,name:D}of l){let v=S,I=N;for(;u.has(`${v-T},${I-O}`);)v-=T,I-=O;const M=[];let F=v,z=I;for(;u.has(`${F},${z}`);)M.push(V(F*C,z*C)),F+=T,z+=O;if(M.length<2)continue;const H=M.join("-");if(L.has(H))continue;L.add(H);const Z=v-T>=0&&v-T<=14&&I-O>=0&&I-O<=14&&!c.has(`${v-T},${I-O}`),ce=F>=0&&F<=14&&z>=0&&z<=14&&!c.has(`${F},${z}`),re=Z&&ce?"both ends open":Z||ce?"one end open":"blocked";k.push(`${h} ${D} ${M.length}-in-a-row: ${M.join("-")} (${re})`)}}return k}const f=p(n,"Black"),y=p(o,"White"),t=[...f,...y];return t.length>0&&a.push(`
Lines on the board:
`+t.join(`
`)),a.join(`
`)}function Et(n,o){const s=[],d=Math.max(n.length,o.length);for(let c=0;c<d;c++)c<n.length&&s.push(`${s.length+1}. ${V(...n[c])} (Black)`),c<o.length&&s.push(`${s.length+1}. ${V(...o[c])} (White)`);return s.join(`
`)}function He(n,o,s){const d=[[1,0],[0,1],[1,1],[1,-1]],c=new Set,a=new Set;for(const[l,p]of n)c.add(`${l/C},${p/C}`);for(const[l,p]of o);for(const[l,p]of s)a.add(`${l/C},${p/C}`);const r=[],i=new Set;for(let l=0;l<15;l++)for(let p=0;p<15;p++)for(const[f,y]of d){const t=p+4*f,m=l+4*y;if(t<0||t>14||m<0||m>14)continue;const h=[],u=[];let k=!1;for(let I=0;I<5;I++){const M=p+I*f,F=l+I*y,z=`${M},${F}`;if(c.has(z))h.push([M,F]);else if(!a.has(z))u.push([M,F]);else{k=!0;break}}if(k||h.length<3)continue;const L=h.map(([I,M])=>`${I},${M}`).sort().join("|")+`|${f},${y}`;if(i.has(L))continue;i.add(L);const w=[],x=h[0],S=h[h.length-1],N=x[0]-f,T=x[1]-y;N>=0&&N<=14&&T>=0&&T<=14&&!a.has(`${N},${T}`)&&w.push(V(N*C,T*C));const O=S[0]+f,D=S[1]+y;O>=0&&O<=14&&D>=0&&D<=14&&!a.has(`${O},${D}`)&&w.push(V(O*C,D*C));const v=w.length;r.push({count:h.length,openEnds:v,broken:u.length>0&&h.length>=3,blockingMoves:w,stones:h.map(([I,M])=>V(I*C,M*C))})}return r.sort((l,p)=>p.count-l.count||p.openEnds-l.openEnds||(l.broken?1:0)-(p.broken?1:0)),r}function Xe(n,o,s,d=!0){const c=Tt(n,o),a=Et(n,o);n.length+o.length;let r="",i="";if(d){const y=[...n,...o];new Set(y.map(([x,S])=>`${x/C},${S/C}`));const t=He(o,n,y),m=He(n,o,y),h=m.filter(x=>x.count>=4&&x.blockingMoves.length>0);h.length>0&&(r=`YOU CAN WIN NOW! Play ${h[0].blockingMoves[0]} to complete 5 in a row.`);const u=t.filter(x=>x.count>=4&&x.blockingMoves.length>0);if(!r&&u.length>0){const x=u[0].blockingMoves;r=`URGENT: White has ${u[0].count} in a row at ${u[0].stones.join(",")}. You MUST block at ${x.join(" or ")} or you lose.`}const k=t.filter(x=>x.count===3&&x.openEnds===2&&x.blockingMoves.length>0);if(!r&&k.length>0){const x=k[0];r=`White has an open three at ${x.stones.join(",")}. Block at ${x.blockingMoves.join(" or ")} â€” otherwise White gets an unstoppable four.`}const L=[],w=m.filter(x=>x.count===3&&x.openEnds>=2&&x.blockingMoves.length>0);if(w.length>0){const x=w[0];L.push(`You have an open three at ${x.stones.join(",")}. Extend it by playing ${x.blockingMoves.join(" or ")}.`)}if(!r){const x=t.filter(S=>S.count===3&&S.openEnds===1&&S.blockingMoves.length>0);if(x.length>0){const S=x[0];L.push(`White has a three at ${S.stones.join(",")} (one end open). Consider blocking at ${S.blockingMoves[0]}.`)}}L.length>0&&(i=L.join(`
`))}const l=`You play Black (X) in Renju on a 15Ã—15 board. Columns A-O, rows 1-15.
White (O) is your opponent. Get exactly 5 in a row to win.

Geometry reminders:
- Same row = horizontal (e.g. G7,H7,I7 are horizontal neighbors)
- Same column = vertical (e.g. H6,H7,H8 are vertical neighbors)
- Diagonal: column and row both change by 1

Rules:
- You MUST play on an EMPTY intersection â€” never on an occupied square
- Block White's 4-in-a-row immediately or you lose
- Block White's open 3-in-a-row or it becomes unstoppable
- Build your own lines toward 5

Respond with ONLY a coordinate like H8. Nothing else.`;let p=[];p.push(c),p.push(`Move history:
${a||"none"}`),r&&p.push(r),i&&p.push(i),p.push("Your move:");const f=p.join(`

`);return{system:l,user:f}}function Je(n){const o=n.trim(),s=Ee(o);if(s)return s;const d=/\b([A-Oa-o])(1[0-5]|[1-9])\b/g;let c,a=null;for(;(c=d.exec(n))!==null;){const i=Ee(c[0]);i&&(a=i)}const r=o.split(`
`).filter(i=>i.trim());if(r.length>0){const i=r[r.length-1].trim(),l=Ee(i);if(l)return l}return a}const me=[{id:"Llama-3.2-1B-Instruct-q4f16_1-MLC",label:"Llama 3.2 1B",size:"~0.7 GB"},{id:"Qwen2.5-1.5B-Instruct-q4f16_1-MLC",label:"Qwen2.5 1.5B",size:"~1 GB"},{id:"SmolLM2-1.7B-Instruct-q4f16_1-MLC",label:"SmolLM2 1.7B",size:"~1 GB"},{id:"Qwen3-1.7B-q4f16_1-MLC",label:"Qwen3 1.7B",size:"~1.2 GB"},{id:"gemma-2-2b-it-q4f16_1-MLC",label:"Gemma 2 2B",size:"~1.5 GB"},{id:"Llama-3.2-3B-Instruct-q4f16_1-MLC",label:"Llama 3.2 3B",size:"~2 GB"},{id:"Qwen3-4B-q4f16_1-MLC",label:"Qwen3 4B",size:"~2.5 GB"},{id:"Phi-3.5-mini-instruct-q4f16_1-MLC",label:"Phi-3.5 Mini 3.8B",size:"~2.5 GB"},{id:"gemma-2-9b-it-q4f16_1-MLC",label:"Gemma 2 9B",size:"~6 GB"}];let ae=null,xe=null;async function Bt(n,o){if(ae&&xe===n)return!0;ae&&(ae=null,xe=null);try{return ae=await(await It()).CreateMLCEngine(n,{initProgressCallback:d=>{o&&o({text:d.text,progress:d.progress})}}),xe=n,!0}catch(s){throw console.error("[WebLLM] Failed to load model:",s),ae=null,xe=null,s}}async function At(n,o,s,d,c=3,a=!0){if(!ae)return{move:null,raw:"",error:"WebLLM model not loaded"};const{system:r,user:i}=Xe(n,o,s,a);console.log(`[WebLLM] User prompt:
${i}`);const p=xe?.startsWith("Qwen3")?`${i}

/no_think`:i,f=[{role:"system",content:r},{role:"user",content:p}];for(let y=0;y<c;y++)try{const m=(await ae.chat.completions.create({messages:f,max_tokens:16,temperature:.2})).choices?.[0]?.message?.content??"";console.log(`[WebLLM] Response (attempt ${y+1}):`,m);const h=Je(m);if(!h){console.warn(`[WebLLM] Attempt ${y+1}: Could not parse move from "${m}"`),f.push({role:"assistant",content:m}),f.push({role:"user",content:"Invalid. Reply with ONLY a coordinate like H8. Nothing else."});continue}if(d.some(([k,L])=>k===h[0]&&L===h[1])){const k=V(h[0],h[1]);console.warn(`[WebLLM] Attempt ${y+1}: Move ${k} is already occupied`),f.push({role:"assistant",content:m}),f.push({role:"user",content:`${k} is occupied. Pick a DIFFERENT empty square. Reply with ONLY the coordinate.`});continue}return{move:h,raw:m}}catch(t){if(console.error(`[WebLLM] Attempt ${y+1} error:`,t),y===c-1)return{move:null,raw:"",error:t.message}}return{move:null,raw:"",error:"Failed to get a valid move after retries"}}function Ue(){return ae!==null}function Ct(){return xe}async function Ot(n,o,s,d,c,a=3,r=!0){const{endpoint:i,model:l,apiKey:p}=n,f=i.replace(/\/+$/,""),{system:y,user:t}=Xe(o,s,d,r);console.log(`[API] User prompt:
${t}`);const m={"Content-Type":"application/json"};p&&(m["api-key"]=p);const h=[{role:"system",content:y},{role:"user",content:t}];for(let u=0;u<a;u++)try{const k={messages:h,max_tokens:32};l&&(k.model=l);const L=await fetch(f,{method:"POST",headers:m,body:JSON.stringify(k)});if(!L.ok){const T=await L.text();throw console.error(`[API] Error ${L.status}:`,T),new Error(`API call failed (${L.status})`)}const x=(await L.json()).choices?.[0]?.message?.content??"";console.log(`[API] Response (attempt ${u+1}):`,x);const S=Je(x);if(!S){console.warn(`[API] Attempt ${u+1}: Could not parse move from "${x}"`),h.push({role:"assistant",content:x}),h.push({role:"user",content:"Invalid. Reply with ONLY a coordinate like H8 (column A-O, row 1-15). Nothing else."});continue}if(c.some(([T,O])=>T===S[0]&&O===S[1])){const T=V(S[0],S[1]);console.warn(`[API] Attempt ${u+1}: Move ${T} is already occupied`),h.push({role:"assistant",content:x}),h.push({role:"user",content:`${T} is occupied. Occupied: ${c.map(([O,D])=>V(O,D)).join(", ")}. Pick a DIFFERENT empty square.`});continue}return{move:S,raw:x}}catch(k){if(console.error(`[API] Attempt ${u+1} error:`,k),u===a-1)return{move:null,raw:"",error:k.message}}return{move:null,raw:"",error:"Failed to get a valid move after retries"}}const Wt=()=>new(window.AudioContext||window.webkitAudioContext),ye=n=>{if(!n)return;const o=n.createOscillator(),s=n.createGain();o.connect(s),s.connect(n.destination),o.frequency.value=800,o.type="sine",s.gain.setValueAtTime(.15,n.currentTime),s.gain.exponentialRampToValueAtTime(.001,n.currentTime+.1),o.start(n.currentTime),o.stop(n.currentTime+.1)},Pt=n=>{if(!n)return;[523,659,784,1047].forEach((s,d)=>{const c=n.createOscillator(),a=n.createGain();c.connect(a),a.connect(n.destination),c.frequency.value=s,c.type="sine";const r=n.currentTime+d*.12;a.gain.setValueAtTime(.2,r),a.gain.exponentialRampToValueAtTime(.001,r+.3),c.start(r),c.stop(r+.3)})},Ft=n=>{if(!n)return;[392,330,262].forEach((s,d)=>{const c=n.createOscillator(),a=n.createGain();c.connect(a),a.connect(n.destination),c.frequency.value=s,c.type="sine";const r=n.currentTime+d*.2;a.gain.setValueAtTime(.2,r),a.gain.exponentialRampToValueAtTime(.001,r+.4),c.start(r),c.stop(r+.4)})},he={easy:{depth:1,mistakeRate:.4,label:"Easy",emoji:"ðŸŒ±"},medium:{depth:2,mistakeRate:.15,label:"Medium",emoji:"âš”ï¸"},hard:{depth:4,mistakeRate:0,label:"Hard",emoji:"ðŸ”¥"},adaptive:{depth:1,mistakeRate:0,label:"Adaptive",emoji:"ðŸ§ ",adaptive:!0}};function Ye({mode:n="pvai"}){const[o,s]=E.useState("setup"),[d,c]=E.useState("black"),[a,r]=E.useState([]),[i,l]=E.useState([]),[p,f]=E.useState("human"),[y,t]=E.useState(0),[m,h]=E.useState(null),[u,k]=E.useState(!1),[L,w]=E.useState([]),[x,S]=E.useState(null),[N,T]=E.useState(null),[O,D]=E.useState(1),[v,I]=E.useState(!0),[M,F]=E.useState(n),[z,H]=E.useState({endpoint:"http://localhost:12434/engines/llama.cpp/v1/chat/completions",model:"ai/mistral",apiKey:""}),[Z,ce]=E.useState([]),[re,de]=E.useState(null),[je,ue]=E.useState(!1),[ee,Qe]=E.useState("easy"),[Y,Oe]=E.useState("webllm"),[ie,Ze]=E.useState(me[0].id),[fe,we]=E.useState(!1),[We,Pe]=E.useState({text:"",progress:0}),te=E.useRef(!1),se=E.useRef(null),Fe=E.useCallback(()=>(se.current||(se.current=Wt()),se.current),[]),et=()=>{const b=he[ee];return b&&!b.adaptive?b.depth:Math.floor(Math.random()*O)+1};E.useEffect(()=>{o==="won"?(M!=="aivsllm"&&ee==="adaptive"&&Math.random()<.5&&D(b=>Math.min(b+1,10)),v&&Pt(se.current)):o==="lost"&&(M!=="aivsllm"&&ee==="adaptive"&&D(b=>Math.max(b-1,1)),v&&Ft(se.current))},[o,v,M,ee]);const ke=b=>{Fe();const K=he[ee];K&&!K.adaptive?D(K.depth):D(1),c(b),s("playing"),r([]),l([]),t(1),h(null),S(null),T(null),De();const R=280;b==="black"?(r([[R,R]]),h([R,R]),f("computer")):(l([[R,R]]),h([R,R]),f("human"))},tt=E.useCallback((b,K)=>{if(o!=="playing"||p!=="human")return;const R=ze(b),$=ze(K);if(!pt(R,$,a,i))return;const W=[...a,[R,$]];if(r(W),h([R,$]),v&&ye(se.current),Ie(W,R,$)){S(be(W,R,$)),s("won");return}t(y+1),f("computer")},[o,p,a,i,y]);E.useEffect(()=>{if(M!=="aivsllm"&&o==="playing"&&p==="computer"){let b=!1;return(async()=>{if(await new Promise(W=>setTimeout(W,300)),b)return;const R=[...i],$=et();if(T($),u){w([]);const q=await _e(R,a,$,(_,A,X)=>{b||w(U=>U.find(ne=>ne.move[0]===_[0]&&ne.move[1]===_[1])?U.map(ne=>ne.move[0]===_[0]&&ne.move[1]===_[1]?{...ne,status:A,score:X}:ne):[...U,{move:_,status:A,score:X}])},d==="white");if(q.bestMove&&R.push(q.bestMove),await new Promise(_=>setTimeout(_,300)),b)return;w([])}else{const W=d==="white";let _=Be(R,a,0,$,-1e3,1e3,W).bestMove;const A=he[ee];if(A&&A.mistakeRate&&_&&Math.random()<A.mistakeRate){const X=Ce(R,a,W);if(X.length>2){const U=X.slice(Math.floor(X.length/2));_=U[Math.floor(Math.random()*U.length)]}}_&&R.push(_)}if(!b&&R.length>i.length){const W=R[R.length-1];if(l(R),h(W),v&&ye(se.current),d==="white"?$e(R,W[0],W[1]):Ie(R,W[0],W[1])){S(be(R,W[0],W[1])),s("lost");return}t(y+1),f("human")}})(),()=>{b=!0}}},[p,o,M,i,a,y,u]);const nt=()=>{M==="aivsllm"?Se():ke(d)},Se=()=>{Fe(),te.current=!1,F("aivsllm"),s("playing");const b=280;r([[b,b]]),l([]),t(2),h([b,b]),S(null),T(null),ce([{turn:1,player:"LLM (Black)",notation:"H8",raw:"auto: center opening"}]),de(null),ue(!0),De(),f("computer")};E.useEffect(()=>{if(M!=="aivsllm"||o!=="playing"||!je)return;let b=!1;return te.current=!1,(async()=>{let R=[...a],$=[...i],W=p,q=y;for(;;){if(b||te.current||(await new Promise(_=>setTimeout(_,600)),b||te.current))return;if(W==="human"){f("human");const _=[...R,...$],A=Y==="webllm"?await At(R,$,"black",_,3,!0):await Ot(z,R,$,"black",_,3,!0);if(b||te.current)return;if(!A.move){de(A.error||"LLM failed to produce a valid move"),ue(!1);return}if(R=[...R,A.move],r([...R]),h(A.move),v&&ye(se.current),ce(X=>[...X,{turn:q,player:"LLM (Black)",notation:V(...A.move),raw:A.raw}]),$e(R,A.move[0],A.move[1])){S(be(R,A.move[0],A.move[1])),s("lost"),ue(!1);return}q++,t(q),W="computer"}else{f("computer");const _=1;T(_);let A=null;if(u){if(w([]),A=(await _e([...$],[...R],_,(U,Me,ne)=>{b||te.current||w(Re=>Re.find(pe=>pe.move[0]===U[0]&&pe.move[1]===U[1])?Re.map(pe=>pe.move[0]===U[0]&&pe.move[1]===U[1]?{...pe,status:Me,score:ne}:pe):[...Re,{move:U,status:Me,score:ne}])},!1)).bestMove,await new Promise(U=>setTimeout(U,300)),b||te.current)return;w([])}else A=Be([...$],[...R],0,_,-1e3,1e3,!1).bestMove;if(b||te.current)return;if(!A){de("Local AI failed to find a move"),ue(!1);return}if($=[...$,A],l([...$]),h(A),v&&ye(se.current),ce(X=>[...X,{turn:q,player:"AI (White)",notation:V(...A)}]),Ie($,A[0],A[1])){S(be($,A[0],A[1])),s("won"),ue(!1);return}q++,t(q),W="human"}}})(),()=>{b=!0,te.current=!0}},[je]);const ot=()=>{te.current=!0,ue(!1),s("setup")};if(o==="setup")return n==="pvai"?e.jsx("div",{style:{padding:"20px 0",margin:"20px 0",position:"relative"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"25px"},children:[e.jsxs("div",{style:{position:"relative",width:"600px",flexShrink:0},children:[e.jsx(Le,{humanMoves:[],computerMoves:[],userColor:"black",onMove:()=>{},disabled:!0,lastMove:null,candidateMoves:[]}),e.jsxs("div",{style:{position:"absolute",top:"50%",left:0,right:0,transform:"translateY(-50%)",background:"rgba(0, 0, 0, 0.85)",padding:"36px 20px",color:"#fff",display:"flex",flexDirection:"column",alignItems:"center",backdropFilter:"blur(12px)",borderTop:"1px solid rgba(255, 255, 255, 0.08)",borderBottom:"1px solid rgba(255, 255, 255, 0.08)",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.5)"},children:[e.jsx("div",{style:{fontSize:"2.2em",fontWeight:"600",letterSpacing:"8px",textTransform:"uppercase",marginBottom:"8px",background:"linear-gradient(135deg, #fff 0%, #94a3b8 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Renju"}),e.jsx("div",{style:{fontSize:"0.85em",color:"#94a3b8",marginBottom:"16px",fontWeight:"500"},children:"Five in a row wins"}),e.jsx("div",{style:{display:"flex",gap:"6px",justifyContent:"center",marginBottom:"14px"},children:Object.entries(he).map(([b,K])=>e.jsxs("button",{onClick:()=>Qe(b),style:{padding:"5px 12px",background:ee===b?"rgba(99, 102, 241, 0.85)":"rgba(255, 255, 255, 0.08)",border:ee===b?"1px solid rgba(99, 102, 241, 0.9)":"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"20px",color:"#fff",cursor:"pointer",fontSize:"0.75em",fontWeight:ee===b?"600":"400",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx("span",{children:K.emoji}),e.jsx("span",{children:K.label})]},b))}),e.jsxs("div",{style:{fontSize:"0.8em",color:"#fff",marginBottom:"20px",fontWeight:"500",padding:"8px 16px",background:"linear-gradient(135deg, #6366f1, #4f46e5)",borderRadius:"6px",boxShadow:"0 4px 15px rgba(99, 102, 241, 0.4)",letterSpacing:"0.3px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[e.jsx("span",{children:"ðŸ‘‡"}),e.jsx("span",{children:"Choose your side to begin"})]}),e.jsxs("div",{style:{display:"flex",gap:"16px",justifyContent:"center",flexWrap:"wrap"},children:[e.jsxs("button",{onClick:()=>{F("pvai"),ke("black")},style:{padding:"20px 32px",background:"#1a1a1a",border:"none",borderRadius:"16px",color:"#fff",cursor:"pointer",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",display:"flex",alignItems:"center",gap:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.05)",minWidth:"160px"},onMouseOver:b=>{b.currentTarget.style.transform="translateY(-3px)",b.currentTarget.style.boxShadow="0 8px 30px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.1)"},onMouseOut:b=>{b.currentTarget.style.transform="translateY(0)",b.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.05)"},children:[e.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"radial-gradient(circle at 30% 30%, #4a4a4a, #000)",boxShadow:"0 2px 8px rgba(0,0,0,0.5), inset 0 -2px 4px rgba(0,0,0,0.3)"}}),e.jsxs("div",{style:{textAlign:"left"},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"1em"},children:"Black"}),e.jsx("div",{style:{opacity:.5,fontSize:"0.75em"},children:"You play first"})]})]}),e.jsxs("button",{onClick:()=>{F("pvai"),ke("white")},style:{padding:"20px 32px",background:"#f5f5f5",border:"none",borderRadius:"16px",color:"#1a1a1a",cursor:"pointer",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",display:"flex",alignItems:"center",gap:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.8)",minWidth:"160px"},onMouseOver:b=>{b.currentTarget.style.transform="translateY(-3px)",b.currentTarget.style.boxShadow="0 8px 30px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.9)"},onMouseOut:b=>{b.currentTarget.style.transform="translateY(0)",b.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.8)"},children:[e.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"radial-gradient(circle at 30% 30%, #fff, #d4d4d4)",boxShadow:"0 2px 8px rgba(0,0,0,0.2), inset 0 -2px 4px rgba(0,0,0,0.05)"}}),e.jsxs("div",{style:{textAlign:"left"},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"1em"},children:"White"}),e.jsx("div",{style:{opacity:.5,fontSize:"0.75em"},children:"AI plays first"})]})]})]})]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"12px",width:"220px",flexShrink:0,alignSelf:"stretch"},children:e.jsxs("div",{style:{color:"var(--surface-text-color)",padding:"18px",background:"var(--blog-surface-background)",borderRadius:"12px",border:"1px solid var(--blog-surface-border, #333)"},children:[e.jsxs("div",{style:{fontWeight:"600",fontSize:"1em",marginBottom:"14px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{children:"ðŸ“–"})," How to Play"]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",fontSize:"0.8em",opacity:.8},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{opacity:.7},children:"âš«"}),e.jsx("span",{children:"Black moves first"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{opacity:.7},children:"ðŸŽ¯"}),e.jsx("span",{children:"Get 5 in a row to win"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{opacity:.7},children:"ðŸ¤–"}),e.jsx("span",{children:"AI adapts to your skill"})]})]})]})})]})}):e.jsx("div",{style:{padding:"20px 0",margin:"20px 0",position:"relative"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"25px"},children:[e.jsxs("div",{style:{position:"relative",width:"600px",flexShrink:0},children:[e.jsx(Le,{humanMoves:[],computerMoves:[],userColor:"black",onMove:()=>{},disabled:!0,lastMove:null,candidateMoves:[]}),e.jsxs("div",{style:{position:"absolute",top:"50%",left:0,right:0,transform:"translateY(-50%)",background:"rgba(0, 0, 0, 0.85)",padding:"36px 20px",color:"#fff",display:"flex",flexDirection:"column",alignItems:"center",backdropFilter:"blur(12px)",borderTop:"1px solid rgba(255, 255, 255, 0.08)",borderBottom:"1px solid rgba(255, 255, 255, 0.08)",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.5)"},children:[e.jsx("div",{style:{fontSize:"2.2em",fontWeight:"600",letterSpacing:"8px",textTransform:"uppercase",marginBottom:"8px",background:"linear-gradient(135deg, #fff 0%, #94a3b8 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"AI vs LLM"}),e.jsx("div",{style:{fontSize:"0.85em",color:"#94a3b8",marginBottom:"20px",fontWeight:"500"},children:"Watch the minimax AI battle a language model"}),e.jsxs("div",{style:{display:"flex",gap:"6px",marginBottom:"14px"},children:[e.jsxs("button",{onClick:()=>Oe("webllm"),style:{padding:"5px 14px",background:Y==="webllm"?"rgba(99, 102, 241, 0.85)":"rgba(255, 255, 255, 0.08)",border:Y==="webllm"?"1px solid rgba(99, 102, 241, 0.9)":"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"20px",color:"#fff",cursor:"pointer",fontSize:"0.78em",fontWeight:Y==="webllm"?"600":"400",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"5px"},children:[e.jsx("span",{children:"ðŸ’»"})," On-Device"]}),e.jsxs("button",{onClick:()=>Oe("api"),style:{padding:"5px 14px",background:Y==="api"?"rgba(99, 102, 241, 0.85)":"rgba(255, 255, 255, 0.08)",border:Y==="api"?"1px solid rgba(99, 102, 241, 0.9)":"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"20px",color:"#fff",cursor:"pointer",fontSize:"0.78em",fontWeight:Y==="api"?"600":"400",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"5px"},children:[e.jsx("span",{children:"ðŸ”Œ"})," API"]})]}),e.jsxs("div",{style:{fontSize:"0.8em",color:"#fff",marginBottom:"10px",fontWeight:"500",padding:"8px 16px",background:"linear-gradient(135deg, #6366f1, #4f46e5)",borderRadius:"6px",boxShadow:"0 4px 15px rgba(99, 102, 241, 0.4)",letterSpacing:"0.3px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[e.jsx("span",{children:Y==="webllm"?"ðŸ’»":"ðŸ”Œ"}),e.jsx("span",{children:Y==="webllm"?"Select a model and load it":"Provide an endpoint to begin"})]})]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"12px",width:"220px",flexShrink:0,alignSelf:"stretch"},children:e.jsxs("div",{style:{color:"var(--surface-text-color)",padding:"18px",background:"var(--blog-surface-background)",borderRadius:"12px",border:"1px solid var(--blog-surface-border, #333)"},children:[Y==="webllm"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{fontWeight:"600",fontSize:"0.95em",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{children:"ðŸ’»"})," On-Device Model"]}),e.jsx("div",{style:{fontSize:"0.75em",opacity:.6,marginBottom:"10px"},children:"Runs in your browser via WebGPU"}),e.jsxs("div",{style:{marginBottom:"10px"},children:[e.jsx("div",{style:{fontSize:"0.75em",opacity:.7,marginBottom:"3px"},children:"Model"}),e.jsx("select",{value:ie,onChange:b=>Ze(b.target.value),style:{width:"100%",padding:"6px 8px",fontSize:"0.8em",borderRadius:"6px",border:"1px solid var(--blog-surface-border, #444)",background:"var(--blog-surface-background, #1a1a1a)",color:"var(--surface-text-color)",boxSizing:"border-box",outline:"none",cursor:"pointer"},children:me.map(b=>e.jsxs("option",{value:b.id,children:[b.label," (",b.size,")"]},b.id))})]}),fe?e.jsxs("div",{style:{marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"0.72em",opacity:.8,marginBottom:"6px",wordBreak:"break-word",lineHeight:"1.4"},children:We.text||"Initializing..."}),e.jsx("div",{style:{width:"100%",height:"6px",background:"var(--blog-surface-border, #333)",borderRadius:"3px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${Math.round(We.progress*100)}%`,height:"100%",background:"linear-gradient(135deg, #6366f1, #4f46e5)",borderRadius:"3px",transition:"width 0.3s"}})})]}):Ue()?e.jsxs("div",{style:{fontSize:"0.75em",color:"#22c55e",marginBottom:"8px",display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx("span",{children:"âœ“"})," Model ready"]}):null,e.jsxs("button",{disabled:fe,onClick:async()=>{we(!0),Pe({text:"",progress:0}),de(null);try{await Bt(ie,b=>Pe(b)),we(!1),Se()}catch(b){we(!1),de("Failed to load model: "+b.message)}},style:{marginTop:"6px",padding:"10px 14px",background:fe?"#555":"linear-gradient(135deg, #6366f1, #4f46e5)",border:"none",borderRadius:"10px",color:"#fff",cursor:fe?"not-allowed":"pointer",fontSize:"0.85em",fontWeight:"600",transition:"all 0.2s",boxShadow:fe?"none":"0 4px 14px rgba(99, 102, 241, 0.35)",width:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",minHeight:"40px"},children:[e.jsx("span",{children:"ðŸ¤–"}),e.jsx("span",{children:fe?"Loading...":Ue()&&Ct()===ie?"Start AI vs LLM":"Load Model & Start"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{fontWeight:"600",fontSize:"0.95em",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{children:"ðŸ”Œ"})," API Endpoint"]}),e.jsx("div",{style:{fontSize:"0.75em",opacity:.6,marginBottom:"10px"},children:"Any OpenAI-compatible endpoint (Docker Model Runner, Ollama, Azure, etc.)"}),[{key:"endpoint",label:"Endpoint",placeholder:"http://localhost:12434/engines/llama.cpp/v1/chat/completions"},{key:"model",label:"Model (optional)",placeholder:"ai/mistral"},{key:"apiKey",label:"API Key (optional)",placeholder:"your-api-key",type:"password"}].map(({key:b,label:K,placeholder:R,type:$})=>e.jsxs("div",{style:{marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"0.75em",opacity:.7,marginBottom:"3px"},children:K}),e.jsx("input",{type:$||"text",value:z[b],onChange:W=>H(q=>({...q,[b]:W.target.value})),placeholder:R,style:{width:"100%",padding:"6px 8px",fontSize:"0.8em",borderRadius:"6px",border:"1px solid var(--blog-surface-border, #444)",background:"var(--blog-surface-background, #1a1a1a)",color:"var(--surface-text-color)",boxSizing:"border-box",outline:"none"}})]},b)),e.jsxs("button",{onClick:()=>{if(!z.endpoint){de("Enter an endpoint URL above");return}de(null),Se()},style:{marginTop:"6px",padding:"10px 14px",background:"linear-gradient(135deg, #6366f1, #4f46e5)",border:"none",borderRadius:"10px",color:"#fff",cursor:"pointer",fontSize:"0.85em",fontWeight:"600",transition:"all 0.2s",boxShadow:"0 4px 14px rgba(99, 102, 241, 0.35)",width:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",minHeight:"40px"},children:[e.jsx("span",{children:"ðŸ¤–"}),e.jsx("span",{children:"Start AI vs LLM"})]})]}),re&&!je&&o==="setup"&&e.jsx("div",{style:{marginTop:"8px",color:"#f87171",fontSize:"0.75em"},children:re})]})})]})});const st=o==="won"||o==="lost";return e.jsx("div",{style:{padding:"20px 0",margin:"20px 0",position:"relative"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"25px"},children:[e.jsx("div",{style:{position:"relative",width:"600px",flexShrink:0},children:e.jsx(Le,{humanMoves:a,computerMoves:i,userColor:M==="aivsllm"?"black":d,onMove:tt,disabled:M==="aivsllm"||o!=="playing"||p!=="human",lastMove:m,candidateMoves:L,winningLine:x})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px",width:"180px",flexShrink:0,alignSelf:"stretch"},children:[e.jsx("div",{style:{color:"var(--surface-text-color)",padding:"15px",background:"var(--blog-surface-background)",borderRadius:"10px",border:"1px solid var(--blog-surface-border, #333)"},children:M==="aivsllm"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9em",marginBottom:"8px"},children:[e.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",flexShrink:0,background:"radial-gradient(circle at 30% 30%, #fff, #d4d4d4)",boxShadow:"0 1px 4px rgba(0,0,0,0.2)"}}),e.jsx("span",{style:{fontWeight:"600"},children:"Minimax"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9em"},children:[e.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",flexShrink:0,background:"radial-gradient(circle at 30% 30%, #4a4a4a, #000)",boxShadow:"0 1px 4px rgba(0,0,0,0.4)"}}),e.jsx("span",{style:{fontWeight:"500",opacity:.9},children:Y==="webllm"?me.find(b=>b.id===ie)?.label||ie:z.model||"API"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{fontSize:"0.7em",opacity:.6,textTransform:"uppercase",letterSpacing:"1px",marginBottom:"6px"},children:"Playing as"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{fontSize:"1.8em"},children:d==="black"?"âš«":"âšª"}),e.jsx("span",{style:{fontWeight:"600",fontSize:"1.1em"},children:d==="black"?"Black":"White"})]})]})}),o==="playing"&&e.jsx("div",{style:{padding:"12px 15px",background:M==="aivsllm"?p==="human"?"linear-gradient(135deg, #1a1a1a, #333)":"linear-gradient(135deg, #e8e8e8, #d4d4d4)":p==="human"?"linear-gradient(135deg, #6366f1, #4f46e5)":"linear-gradient(135deg, #f59e0b, #d97706)",borderRadius:"10px",color:M==="aivsllm"&&p!=="human"?"#333":"#fff",fontWeight:"600",fontSize:"0.9em",textAlign:"center",boxShadow:M==="aivsllm"?p==="human"?"0 4px 14px rgba(0, 0, 0, 0.3)":"0 4px 14px rgba(0, 0, 0, 0.15)":p==="human"?"0 4px 14px rgba(99, 102, 241, 0.35)":"0 4px 14px rgba(245, 158, 11, 0.35)"},children:M==="aivsllm"?p==="human"?`âš« ${Y==="webllm"?me.find(b=>b.id===ie)?.label||"LLM":z.model||"LLM"} thinking...`:"âšª Minimax thinking...":p==="human"?"ðŸŽ¯ Your Turn":"ðŸ¤– AI Thinking..."}),st&&e.jsxs("div",{style:{padding:"15px",background:o==="won"?"linear-gradient(135deg, #10b981, #059669)":"linear-gradient(135deg, #ef4444, #dc2626)",borderRadius:"10px",textAlign:"center",boxShadow:o==="won"?"0 4px 14px rgba(16, 185, 129, 0.35)":"0 4px 14px rgba(239, 68, 68, 0.35)"},children:[e.jsx("div",{style:{fontSize:"1.5em",marginBottom:"6px",color:"#fff"},children:M==="aivsllm"?o==="won"?"ðŸ¤–":e.jsx(ct,{style:{color:"#fff"}}):o==="won"?"ðŸŽ‰":"ðŸ¤–"}),e.jsx("div",{style:{color:"#fff",fontWeight:"600",fontSize:"1em"},children:M==="aivsllm"?o==="won"?"Minimax Won!":`${Y==="webllm"?me.find(b=>b.id===ie)?.label||ie:z.model||"API"} Won!`:o==="won"?"You Won!":"AI Won"})]}),re&&M==="aivsllm"&&e.jsx("div",{style:{padding:"10px 14px",background:"rgba(239, 68, 68, 0.15)",border:"1px solid rgba(239, 68, 68, 0.4)",borderRadius:"10px",color:"#f87171",fontSize:"0.78em",wordBreak:"break-word"},children:re}),e.jsxs("div",{style:{marginTop:"auto",display:"flex",flexDirection:"column",gap:"10px"},children:[e.jsxs("button",{onClick:nt,style:{padding:"12px 15px",background:"linear-gradient(135deg, #6366f1, #4f46e5)",border:"none",borderRadius:"10px",color:"#fff",cursor:"pointer",fontSize:"0.9em",fontWeight:"500",transition:"all 0.2s",boxShadow:"0 4px 14px rgba(99, 102, 241, 0.35)",width:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",minHeight:"44px"},children:[e.jsx("span",{children:"ðŸ”„"}),e.jsx("span",{children:"Restart"})]}),e.jsxs("button",{onClick:ot,style:{padding:"12px 15px",background:"transparent",border:"1px solid var(--blog-surface-border, #ccc)",borderRadius:"10px",color:"var(--surface-text-color)",cursor:"pointer",fontSize:"0.9em",fontWeight:"500",transition:"all 0.2s",width:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",minHeight:"44px"},children:[e.jsx("span",{children:"âš™ï¸"}),e.jsx("span",{children:"New Game"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"6px",cursor:"pointer",color:"var(--surface-text-color)",fontSize:"0.85em",padding:"12px 15px",margin:0,background:v?"rgba(34, 197, 94, 0.12)":"var(--blog-surface-background)",borderRadius:"10px",border:v?"1px solid rgba(34, 197, 94, 0.4)":"1px solid var(--blog-surface-border, #333)",transition:"all 0.2s",width:"100%",boxSizing:"border-box",minHeight:"44px"},children:[e.jsx("input",{type:"checkbox",checked:v,onChange:b=>I(b.target.checked),style:{display:"none"}}),e.jsx("div",{style:{width:"36px",height:"20px",background:v?"linear-gradient(135deg, #22c55e, #16a34a)":"var(--blog-surface-border, #555)",borderRadius:"10px",position:"relative",transition:"all 0.2s",flexShrink:0,boxShadow:v?"0 2px 8px rgba(34, 197, 94, 0.3)":"none"},children:e.jsx("div",{style:{width:"16px",height:"16px",background:"#fff",borderRadius:"50%",position:"absolute",top:"2px",left:v?"18px":"2px",transition:"all 0.2s",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"}})}),e.jsxs("span",{style:{lineHeight:"1"},children:[v?"ðŸ”Š":"ðŸ”‡"," Sound"]})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"6px",cursor:"pointer",color:"var(--surface-text-color)",fontSize:"0.85em",padding:"12px 15px",margin:0,background:u?"rgba(99, 102, 241, 0.12)":"var(--blog-surface-background)",borderRadius:"10px",border:u?"1px solid rgba(99, 102, 241, 0.4)":"1px solid var(--blog-surface-border, #333)",transition:"all 0.2s",width:"100%",boxSizing:"border-box",minHeight:"44px"},children:[e.jsx("input",{type:"checkbox",checked:u,onChange:b=>k(b.target.checked),style:{display:"none"}}),e.jsx("div",{style:{width:"36px",height:"20px",background:u?"linear-gradient(135deg, #6366f1, #4f46e5)":"var(--blog-surface-border, #555)",borderRadius:"10px",position:"relative",transition:"all 0.2s",flexShrink:0,margin:"0px",boxShadow:u?"0 2px 8px rgba(99, 102, 241, 0.3)":"none"},children:e.jsx("div",{style:{width:"16px",height:"16px",background:"#fff",borderRadius:"50%",position:"absolute",margin:"0px",top:"2px",left:u?"18px":"2px",transition:"all 0.2s",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"}})}),e.jsx("span",{style:{lineHeight:"1.3"},children:"Visualize AI"})]})]}),e.jsxs("div",{style:{color:"var(--surface-text-color)",padding:"12px 15px",background:"var(--blog-surface-background)",borderRadius:"10px",border:"1px solid var(--blog-surface-border, #333)",fontSize:"0.85em"},children:[e.jsxs("div",{style:{fontWeight:"500",textAlign:"center",marginBottom:"8px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(()=>{const b=y%2===1;return e.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",flexShrink:0,background:b?"radial-gradient(circle at 30% 30%, #4a4a4a, #000)":"radial-gradient(circle at 30% 30%, #fff, #d4d4d4)",boxShadow:b?"0 1px 3px rgba(0,0,0,0.4)":"0 1px 3px rgba(0,0,0,0.2)",border:b?"none":"1px solid #ccc"}})})(),e.jsxs("span",{children:["Move #",Math.ceil(y/2)]})]}),M!=="aivsllm"&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",opacity:.8},children:[e.jsx("span",{children:"Difficulty:"}),e.jsxs("span",{style:{fontWeight:"500"},children:[he[ee]?.emoji," ",he[ee]?.label]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",opacity:.8,marginTop:"4px"},children:[e.jsx("span",{children:"Max Depth:"}),e.jsx("span",{style:{fontWeight:"500"},children:O})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",opacity:.8,marginTop:"4px"},children:[e.jsx("span",{children:"Current Depth:"}),e.jsx("span",{style:{fontWeight:"500"},children:N??"â€”"})]})]})]})]})})}class Gt extends it.Component{componentDidMount(){window.scrollTo(0,0),document.title="Renju - A Strategic Board Game with AI | blog by Pranshu Gupta"}render(){return e.jsxs("div",{className:"language-javascript",children:[e.jsx("div",{className:"row bhead",children:e.jsx(at,{className:"bigger gt1"})}),e.jsx("h1",{className:"title",children:"Renju - A Strategic Board Game with AI"}),e.jsx("p",{children:"Pranshu Gupta, February 15, 2026"}),e.jsx(dt,{link:window.location.href,title:"Renju - A Strategic Board Game with AI"}),e.jsx("p",{className:"introduction",children:'Renju, also known as "Five in a Row" or Gomoku, is a classic strategic board game that has been played for centuries across Asia and beyond. I present a modern web implementation of Renju using React, complete with an AI opponent powered by the minimax algorithm with alpha-beta pruning.'}),e.jsx("hr",{style:{backgroundColor:"white"}}),e.jsx("h2",{className:"headings",children:"Play the Game"}),e.jsx("p",{children:"Renju is deceptively simple in its rules but offers surprising strategic depth:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("b",{children:"Objective:"})," Be the first player to create an unbroken line of five stones on the board"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Board:"})," Played on a 15Ã—15 grid (similar to Go)"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Turns:"})," Players alternate placing stones, with black always going first"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Victory:"})," Five consecutive stones in any direction (horizontal, vertical, or diagonal) wins"]})]}),e.jsx(Ye,{mode:"pvai"}),e.jsx("p",{children:"The AI uses minimax search with alpha-beta pruning and comes with four difficulty levels:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("b",{children:"Easy:"})," Shallow search with occasional mistakes â€” a good starting point."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Medium:"})," Deeper search with fewer errors."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Hard:"})," Full strength, no mistakes."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Adaptive:"})," Learns from each game! If you win, the AI has a chance to increase its search depth (up to 10). If you lose, it dials back down."]})]}),e.jsx("p",{children:"The current depth is displayed during gameplay. Choose your stone color and difficulty, and see if you can beat it!"}),e.jsx("p",{children:"While the rules are simple, mastering Renju requires thinking several moves ahead, recognizing patterns, and understanding both offensive and defensive strategies."}),e.jsx("hr",{style:{backgroundColor:"white"}}),e.jsx("h2",{className:"headings",children:"The Minimax Algorithm"}),e.jsxs("p",{children:["The AI opponent is powered by the ",e.jsx("b",{children:"minimax algorithm with alpha-beta pruning"}),", a classic game-tree search technique. At each turn, the AI simulates possible sequences of moves â€” alternating between its own best moves and the opponent's best responses â€” and picks the move that leads to the best guaranteed outcome, even if the opponent plays optimally."]}),e.jsxs("p",{children:[e.jsx("b",{children:"Alpha-beta pruning"})," makes this practical by cutting off branches of the search tree that can't possibly influence the final decision. If the AI discovers that a branch is already worse than a previously explored option, it skips the rest of that subtree entirely, dramatically reducing the number of positions evaluated."]}),e.jsx("p",{children:"Several optimizations keep the AI responsive even at higher search depths:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("b",{children:"Transposition Table:"})," A hash map caches previously evaluated board positions to avoid redundant work when different move orderings lead to the same state."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Move Ordering:"})," Candidate moves are scored with a quick heuristic and sorted before the full search begins. Good move ordering triggers more alpha-beta cutoffs, making the search significantly faster."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Pattern-Based Evaluation:"})," The evaluation function recognizes tactical patterns â€” open fours, broken fours, double threes, jump threes â€” and assigns calibrated scores to each. It also detects powerful combinations like four-three or double-four that force a win."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Renju Forbidden Moves:"})," The AI enforces Renju-specific rules for Black: overlines (6+ in a row), double-fours, and double-threes are detected and filtered from the candidate move list."]})]}),e.jsx("hr",{style:{backgroundColor:"white"}}),e.jsx("h2",{className:"headings",children:"AI vs LLM"}),e.jsx("p",{children:"Beyond playing against the AI yourself, you can also pit the local minimax AI against a large language model (LLM) and watch them battle it out. In this mode, the LLM plays as Black (first move) and the local AI plays as White. The game runs automatically â€” you just sit back and observe."}),e.jsx(Ye,{mode:"aivsllm"}),e.jsx("h3",{className:"headings",children:"Connecting an LLM"}),e.jsx("p",{children:"There are two ways to bring an LLM into the game:"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginTop:"16px",marginBottom:"20px"},children:[e.jsxs("div",{style:{background:"var(--blog-surface-background)",border:"1px solid var(--blog-surface-border, #333)",borderRadius:"10px",padding:"18px"},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"1em",marginBottom:"8px"},children:"ðŸ’» On-Device"}),e.jsxs("p",{style:{fontSize:"0.9em",opacity:.8,marginBottom:"10px"},children:["Runs entirely in your browser via ",e.jsx("a",{href:"https://webllm.mlc.ai/",target:"_blank",rel:"noopener noreferrer",children:"WebLLM"})," + WebGPU. No server needed. Pick a model, click load, and play. Weights are cached after first download. Requires Chrome/Edge with WebGPU support."]})]}),e.jsxs("div",{style:{background:"var(--blog-surface-background)",border:"1px solid var(--blog-surface-border, #333)",borderRadius:"10px",padding:"18px"},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"1em",marginBottom:"8px"},children:"ðŸ”Œ API"}),e.jsx("p",{style:{fontSize:"0.9em",opacity:.8,marginBottom:"10px"},children:"Connects to any OpenAI-compatible chat completions endpoint â€” local or cloud. Works with Docker Model Runner, Ollama, LM Studio, Azure OpenAI, OpenAI, and more. Just paste the full URL, add a model name and API key if needed."})]})]}),e.jsxs("details",{style:{marginBottom:"20px"},children:[e.jsx("summary",{style:{cursor:"pointer",fontWeight:"600",fontSize:"0.95em",opacity:.9},children:"Example API endpoints"}),e.jsxs("ul",{style:{marginTop:"10px"},children:[e.jsxs("li",{children:[e.jsx("b",{children:"Docker Model Runner:"})," ",e.jsx("code",{children:"http://localhost:12434/engines/llama.cpp/v1/chat/completions"})," Â· model: ",e.jsx("code",{children:"ai/mistral"})]}),e.jsxs("li",{children:[e.jsx("b",{children:"Ollama:"})," ",e.jsx("code",{children:"http://localhost:11434/v1/chat/completions"})," Â· model: ",e.jsx("code",{children:"llama3"})]}),e.jsxs("li",{children:[e.jsx("b",{children:"LM Studio:"})," ",e.jsx("code",{children:"http://localhost:1234/v1/chat/completions"})]}),e.jsxs("li",{children:[e.jsx("b",{children:"Azure OpenAI:"})," ",e.jsx("code",{children:"https://<resource>.openai.azure.com/openai/deployments/<model>/chat/completions?api-version=2024-02-01"})," + API key"]}),e.jsxs("li",{children:[e.jsx("b",{children:"OpenAI:"})," ",e.jsx("code",{children:"https://api.openai.com/v1/chat/completions"})," + API key"]})]})]}),e.jsx("p",{children:"The LLM receives a text representation of the board along with strategic guidance and responds with its next move in algebraic notation (e.g. H8). A few things make this mode interesting:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("b",{children:"Threat Hints:"})," You can toggle whether the LLM receives pre-computed threat analysis in its prompt. With hints enabled, the prompt includes specific blocking coordinates for the opponent's open threes and fours â€” without them, the LLM must figure out threats on its own from the raw board state."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Adaptive Difficulty (reversed):"})," The difficulty adjustment works in reverse here. When the local AI wins, its search depth ",e.jsx("i",{children:"decreases"})," to give the LLM a better chance. When the LLM wins, the AI gets harder. This creates an interesting dynamic where the AI calibrates itself to the LLM's skill level."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Visualize AI:"}),` You can enable the "Visualize AI" toggle to watch the minimax algorithm explore candidate moves in real time during the local AI's turn.`]})]}),e.jsx("p",{children:"It's a fun way to see how a general-purpose language model stacks up against a purpose-built game-playing algorithm â€” and spoiler: the minimax AI usually wins, but the LLM can occasionally pull off surprising moves!"}),e.jsxs("div",{style:{background:"rgba(66, 153, 225, 0.1)",border:"1px solid #4299e1",borderRadius:"4px",padding:"20px",marginTop:"30px"},children:[e.jsxs("h4",{style:{color:"#4299e1",marginBottom:"10px"},children:[e.jsx(lt,{style:{marginRight:"10px"}}),"Fun Fact"]}),e.jsx("p",{style:{marginBottom:0},children:"In 2001, researchers proved that with perfect play, the first player (Black) always wins in standard Gomoku. This led to the creation of Renju, which adds special rules to balance the game. In this implementation, the AI uses adaptive difficulty - it gets stronger when you win and easier when you lose, creating a personalized challenge that grows with your skill!"})]}),e.jsx("hr",{style:{backgroundColor:"white"}}),e.jsx("h2",{className:"headings",children:"Source Code"}),e.jsx("p",{children:"The complete source code for this project is available on GitHub. You can run it locally or deploy it to any static hosting service. The game demonstrates how classic game-playing algorithms can create engaging experiences in modern web applications."}),e.jsx("p",{children:"Whether you're interested in game AI, React development, or just enjoy strategic board games, I hope this project provides both entertainment and educational value. Challenge the AI and see how you stack up!"}),e.jsxs("a",{href:"https://github.com/Pranshu258/Pranshu258.github.io/tree/react/src/renju",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"12px 24px",background:"linear-gradient(135deg, #24292e, #1a1e22)",color:"#fff",borderRadius:"8px",textDecoration:"none",fontWeight:"600",fontSize:"0.95em",marginTop:"15px",marginBottom:"15px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",transition:"all 0.2s"},children:[e.jsx("svg",{height:"20",width:"20",viewBox:"0 0 16 16",fill:"currentColor",children:e.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})}),"View Source on GitHub"]}),e.jsx("hr",{style:{backgroundColor:"white"}})]})}}export{Gt as default};
